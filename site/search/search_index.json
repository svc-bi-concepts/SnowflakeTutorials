{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#snowflake-bi-tools-connection-guide","title":"Snowflake BI Tools Connection Guide","text":""},{"location":"#connect-your-bi-tools-to-snowflake","title":"Connect Your BI Tools to Snowflake","text":"<p>A comprehensive guide for authenticating Tableau, Power BI, and Excel with Snowflake on Windows and macOS.</p>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"<ul> <li> <p> Getting Started</p> <p>Prerequisites, account setup, and initial configuration</p> </li> <li> <p> Authentication Methods</p> <p>Compare OAuth, SSO, Key-Pair, and Username/Password options</p> </li> <li> <p> Quick Reference</p> <p>Decision guide to choose the right authentication method</p> </li> <li> <p> Tableau</p> <p>Connect Tableau Desktop and Server to Snowflake</p> </li> <li> <p> Power BI</p> <p>Configure Power BI Desktop and Service connections</p> </li> <li> <p> Excel</p> <p>Set up ODBC connections for Excel data access</p> </li> <li> <p> Best Practices</p> <p>Security recommendations and performance optimization</p> </li> </ul>"},{"location":"#authentication-methods-at-a-glance","title":"Authentication Methods at a Glance","text":"Method Security Level Complexity Best For Username &amp; Password  Basic  Easy Quick testing, individual users OAuth / SSO  High  Medium Enterprise environments Key-Pair Authentication  Very High  Complex Service accounts, automation"},{"location":"#platform-tool-compatibility","title":"Platform &amp; Tool Compatibility","text":"Feature Tableau Power BI Excel Windows Support  Full  Full  Full macOS Support  Full  Web Only  Limited OAuth/SSO  Yes  Yes  No Key-Pair Auth  Yes  No  Via ODBC Live Queries  Yes  Yes  Yes"},{"location":"#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Authentication Options \u2014 Understand all available methods for secure access</li> <li>Step-by-Step Setup \u2014 Detailed instructions for each BI tool and platform</li> <li>Security Best Practices \u2014 Protect your data with proper configuration</li> <li>Performance Optimization \u2014 Get the best query performance</li> <li>Troubleshooting \u2014 Common issues and their solutions</li> </ol> <p>Recommendation</p> <p>For enterprise environments, we strongly recommend using OAuth/SSO or Key-Pair Authentication over basic username and password for enhanced security.</p>"},{"location":"#need-help","title":"Need Help?","text":"<ul> <li> Check our Troubleshooting Guide</li> <li> View Snowflake Official Documentation</li> <li> Contact your Snowflake administrator</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#troubleshooting-guide","title":"Troubleshooting Guide","text":""},{"location":"troubleshooting/#fix-common-issues","title":"Fix Common Issues","text":"<p>Solutions to frequent problems when connecting BI tools to Snowflake</p>"},{"location":"troubleshooting/#quick-diagnostics","title":"Quick Diagnostics","text":"<p>Before diving into specific issues, run through this checklist:</p> <ul> <li> Can you log into Snowflake web UI?</li> <li> Is your warehouse running (not suspended)?</li> <li> Are network/firewall rules allowing connection?</li> <li> Are you using the correct account identifier?</li> <li> Do you have the required permissions?</li> </ul>"},{"location":"troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"troubleshooting/#cannot-connect-to-snowflake","title":"Cannot Connect to Snowflake","text":"Error: Connection timed out / Host not found <p>Possible Causes:</p> <ul> <li>Incorrect account identifier</li> <li>Network/firewall blocking connection</li> <li>VPN issues</li> <li>DNS resolution problems</li> </ul> <p>Solutions:</p> <ol> <li> <p>Verify account URL format: </p><pre><code>Correct: xy12345.us-east-1.snowflakecomputing.com\nWrong:   xy12345.snowflakecomputing.com (missing region)\nWrong:   https://xy12345.us-east-1.snowflakecomputing.com (no protocol needed)\n</code></pre><p></p> </li> <li> <p>Test network connectivity: </p><pre><code># macOS/Linux\nnc -zv account.region.snowflakecomputing.com 443\n\n# Windows PowerShell\nTest-NetConnection account.region.snowflakecomputing.com -Port 443\n</code></pre><p></p> </li> <li> <p>Check firewall rules:</p> </li> <li>Ensure outbound port 443 is allowed</li> <li> <p>Whitelist <code>*.snowflakecomputing.com</code></p> </li> <li> <p>Try different network:</p> </li> <li>Test with mobile hotspot</li> <li>Disable VPN temporarily</li> </ol> Error: Invalid username or password <p>Possible Causes:</p> <ul> <li>Wrong credentials</li> <li>Account locked</li> <li>Case sensitivity</li> <li>Password expired</li> </ul> <p>Solutions:</p> <ol> <li> <p>Verify credentials in Snowflake web UI first</p> </li> <li> <p>Check account lock status: </p><pre><code>-- Admin only\nDESC USER your_username;\n-- Check DISABLED and LOCKED_UNTIL fields\n</code></pre><p></p> </li> <li> <p>Reset password if needed: </p><pre><code>ALTER USER your_username SET PASSWORD = 'NewPassword123!';\n</code></pre><p></p> </li> <li> <p>Check username format:</p> </li> <li>Username is case-insensitive for login</li> <li>Email format if using SSO</li> </ol> Error: Role not authorized / insufficient privileges <p>Possible Causes:</p> <ul> <li>User not granted required role</li> <li>Default role not set</li> <li>Role doesn't have warehouse access</li> </ul> <p>Solutions:</p> <ol> <li> <p>Check user's roles: </p><pre><code>SHOW GRANTS TO USER your_username;\n</code></pre><p></p> </li> <li> <p>Verify role has required access: </p><pre><code>-- Check warehouse access\nSHOW GRANTS ON WAREHOUSE your_warehouse;\n\n-- Check database access\nSHOW GRANTS ON DATABASE your_database;\n</code></pre><p></p> </li> <li> <p>Set default role: </p><pre><code>ALTER USER your_username SET DEFAULT_ROLE = your_role;\n</code></pre><p></p> </li> </ol>"},{"location":"troubleshooting/#authentication-issues","title":"Authentication Issues","text":""},{"location":"troubleshooting/#oauth-sso-problems","title":"OAuth / SSO Problems","text":"Error: OAuth token is invalid or expired <p>Solutions:</p> <ol> <li>Clear cached credentials:</li> <li>Tableau: Sign out and reconnect</li> <li> <p>Power BI: Clear saved credentials in data source settings</p> </li> <li> <p>Re-authenticate:</p> </li> <li>Complete OAuth flow again</li> <li> <p>Check if MFA completed successfully</p> </li> <li> <p>Verify token settings: </p><pre><code>DESC SECURITY INTEGRATION your_oauth;\n-- Check OAUTH_REFRESH_TOKEN_VALIDITY\n</code></pre><p></p> </li> <li> <p>Extend token validity (if appropriate): </p><pre><code>ALTER SECURITY INTEGRATION your_oauth\n    SET OAUTH_REFRESH_TOKEN_VALIDITY = 7776000; -- 90 days\n</code></pre><p></p> </li> </ol> Error: SAML assertion failed <p>Solutions:</p> <ol> <li>Check certificate expiry:</li> <li>Verify IdP certificate hasn't expired</li> <li> <p>Update certificate in Snowflake if needed</p> </li> <li> <p>Verify clock synchronization:</p> </li> <li>SAML is time-sensitive</li> <li> <p>Check system clock accuracy</p> </li> <li> <p>Validate attribute mappings: </p><pre><code>DESC SECURITY INTEGRATION your_saml;\n</code></pre><p></p> </li> <li> <p>Review IdP logs for details</p> </li> </ol> SSO works in browser but not in BI tool <p>Solutions:</p> <ol> <li>Use OAuth instead of browser-based SSO:</li> <li>Configure OAuth security integration</li> <li> <p>Some tools don't support browser popup</p> </li> <li> <p>Check BI tool version:</p> </li> <li>Update to latest version</li> <li> <p>Verify Snowflake connector version</p> </li> <li> <p>Enable external browser auth:</p> </li> <li>Set <code>AUTHENTICATOR=externalbrowser</code> for ODBC</li> <li>This opens default browser for auth</li> </ol>"},{"location":"troubleshooting/#key-pair-authentication","title":"Key-Pair Authentication","text":"Error: JWT token is invalid <p>Solutions:</p> <ol> <li> <p>Verify public key is registered: </p><pre><code>DESC USER your_username;\n-- Check RSA_PUBLIC_KEY field\n</code></pre><p></p> </li> <li> <p>Check key format: </p><pre><code># Should show: -----BEGIN ENCRYPTED PRIVATE KEY-----\n# or: -----BEGIN PRIVATE KEY-----\nhead -1 rsa_key.p8\n</code></pre><p></p> </li> <li> <p>Regenerate keys: </p><pre><code>openssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 -out rsa_key.p8\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n</code></pre><p></p> </li> <li> <p>Ensure keys match:</p> </li> <li>Public key must be derived from the private key you're using</li> </ol> Error: Private key file not found <p>Solutions:</p> <ol> <li>Use absolute path:</li> <li>macOS: <code>/Users/yourname/.snowflake/keys/rsa_key.p8</code></li> <li> <p>Windows: <code>C:\\Users\\yourname\\.snowflake\\keys\\rsa_key.p8</code></p> </li> <li> <p>Check file permissions: </p><pre><code># macOS/Linux\nls -la ~/.snowflake/keys/rsa_key.p8\nchmod 600 ~/.snowflake/keys/rsa_key.p8\n</code></pre><p></p> </li> <li> <p>Verify file exists and is readable by application</p> </li> </ol> Passphrase error / cannot decrypt private key <p>Solutions:</p> <ol> <li> <p>Verify passphrase is correct</p> </li> <li> <p>For automation, use unencrypted key: </p><pre><code>openssl genrsa 2048 | openssl pkcs8 -topk8 -nocrypt -out rsa_key.p8\n</code></pre>  Store unencrypted keys with extra security!<p></p> </li> <li> <p>Regenerate with new passphrase if forgotten</p> </li> </ol>"},{"location":"troubleshooting/#bi-tool-specific-issues","title":"BI Tool-Specific Issues","text":""},{"location":"troubleshooting/#tableau","title":"Tableau","text":"Tableau extract refresh fails <p>Solutions:</p> <ol> <li>Check embedded credentials:</li> <li> <p>Re-embed password or reconfigure OAuth</p> </li> <li> <p>Verify warehouse is running:</p> </li> <li> <p>Check auto-resume is enabled</p> </li> <li> <p>Test connection manually:</p> </li> <li> <p>Try connecting from Tableau Desktop</p> </li> <li> <p>Check Tableau Server logs:</p> </li> <li>Location: <code>C:\\ProgramData\\Tableau\\Tableau Server\\data\\tabsvc\\logs\\</code></li> </ol> Tableau is slow with live connection <p>Solutions:</p> <ol> <li> <p>Consider using Extracts</p> </li> <li> <p>Optimize Snowflake:</p> </li> <li>Scale up warehouse</li> <li>Add clustering keys</li> <li> <p>Use materialized views</p> </li> <li> <p>Reduce dashboard complexity:</p> </li> <li>Fewer visuals per view</li> <li>Limit quick filters</li> <li> <p>Pre-aggregate data</p> </li> <li> <p>Check Initial SQL settings: </p><pre><code>ALTER SESSION SET STATEMENT_TIMEOUT_IN_SECONDS = 3600;\n</code></pre><p></p> </li> </ol>"},{"location":"troubleshooting/#power-bi","title":"Power BI","text":"DirectQuery times out <p>Solutions:</p> <ol> <li>Increase timeout in Power BI:</li> <li> <p>File \u2192 Options \u2192 DirectQuery \u2192 Timeout</p> </li> <li> <p>Optimize query:</p> </li> <li>Reduce visuals on page</li> <li>Pre-aggregate in Snowflake</li> <li> <p>Use aggregation tables</p> </li> <li> <p>Scale warehouse: </p><pre><code>ALTER WAREHOUSE powerbi_wh SET WAREHOUSE_SIZE = 'LARGE';\n</code></pre><p></p> </li> </ol> Scheduled refresh fails in Power BI Service <p>Solutions:</p> <ol> <li>Check credentials:</li> <li>Go to dataset settings</li> <li> <p>Re-enter data source credentials</p> </li> <li> <p>For MFA accounts:</p> </li> <li>MFA blocks scheduled refresh</li> <li>Use OAuth with service principal</li> <li> <p>Or disable MFA for service account</p> </li> <li> <p>Check gateway (if used):</p> </li> <li>Verify gateway is online</li> <li>Test connection through gateway</li> </ol> Power BI SSO not passing user identity <p>Solutions:</p> <ol> <li>Verify configuration:</li> <li>Azure AD OAuth must be configured in Snowflake</li> <li> <p>User identities must match</p> </li> <li> <p>Use DirectQuery mode:</p> </li> <li> <p>SSO only works with DirectQuery, not Import</p> </li> <li> <p>Check tenant settings:</p> </li> <li>Enable Snowflake SSO in Power BI Admin portal</li> </ol>"},{"location":"troubleshooting/#excel","title":"Excel","text":"ODBC driver not appearing in list <p>Solutions:</p> <ol> <li>Run correct ODBC Administrator:</li> <li>64-bit Excel \u2192 64-bit ODBC Admin</li> <li> <p>Path: <code>C:\\Windows\\System32\\odbcad32.exe</code></p> </li> <li> <p>Reinstall driver:</p> </li> <li>Download matching architecture (32/64-bit)</li> <li> <p>Run installer as Administrator</p> </li> <li> <p>Restart Excel after installation</p> </li> </ol> Excel freezes when loading data <p>Solutions:</p> <ol> <li> <p>Reduce data volume: </p><pre><code>SELECT * FROM table WHERE date &gt; '2024-01-01' LIMIT 100000\n</code></pre><p></p> </li> <li> <p>Use Power Query with incremental load</p> </li> <li> <p>Increase system memory allocation</p> </li> <li> <p>Consider Tableau or Power BI for large datasets</p> </li> </ol>"},{"location":"troubleshooting/#odbc-issues","title":"ODBC Issues","text":"ODBC test connection fails <p>Solutions:</p> <ol> <li>Verify all required fields:</li> <li>Server (account URL)</li> <li>Username</li> <li>Database (optional but recommended)</li> <li> <p>Warehouse (required for queries)</p> </li> <li> <p>Test with minimal configuration:</p> </li> <li> <p>Just Server and credentials first</p> </li> <li> <p>Check driver version:</p> </li> <li>Update to latest Snowflake ODBC driver</li> </ol> macOS ODBC configuration not working <p>Solutions:</p> <ol> <li> <p>Verify files exist: </p><pre><code>cat ~/.odbc.ini\ncat ~/.odbcinst.ini\n</code></pre><p></p> </li> <li> <p>Check driver path: </p><pre><code>ls /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\n</code></pre><p></p> </li> <li> <p>Install iODBC: </p><pre><code>brew install libiodbc\n</code></pre><p></p> </li> <li> <p>Test with isql: </p><pre><code>isql -v Snowflake your_username your_password\n</code></pre><p></p> </li> </ol>"},{"location":"troubleshooting/#network-and-proxy-issues","title":"Network and Proxy Issues","text":"Connection works from home but not office <p>Solutions:</p> <ol> <li>Check corporate firewall:</li> <li>Request whitelisting for <code>*.snowflakecomputing.com</code></li> <li> <p>Port 443 outbound</p> </li> <li> <p>Configure proxy:</p> </li> <li>Add proxy settings to ODBC DSN</li> <li> <p>Configure in BI tool settings</p> </li> <li> <p>Use VPN if required</p> </li> </ol> SSL certificate errors <p>Solutions:</p> <ol> <li> <p>Update system certificates</p> </li> <li> <p>Check system date/time:</p> </li> <li> <p>Incorrect time causes certificate validation failures</p> </li> <li> <p>Update Snowflake driver:</p> </li> <li> <p>Older drivers may have outdated certificates</p> </li> <li> <p>macOS specific: </p><pre><code># Update Python certificates\n/Applications/Python\\ 3.x/Install\\ Certificates.command\n</code></pre><p></p> </li> </ol>"},{"location":"troubleshooting/#performance-issues","title":"Performance Issues","text":"Queries run slowly <p>Solutions:</p> <ol> <li> <p>Scale up warehouse: </p><pre><code>ALTER WAREHOUSE your_wh SET WAREHOUSE_SIZE = 'LARGE';\n</code></pre><p></p> </li> <li> <p>Check warehouse is not suspended: </p><pre><code>ALTER WAREHOUSE your_wh RESUME;\n</code></pre><p></p> </li> <li> <p>Analyze query: </p><pre><code>-- Use query profile in Snowflake UI\n-- or\nSELECT * FROM TABLE(GET_QUERY_OPERATOR_STATS(LAST_QUERY_ID()));\n</code></pre><p></p> </li> <li> <p>Add clustering: </p><pre><code>ALTER TABLE your_table CLUSTER BY (common_filter_column);\n</code></pre><p></p> </li> </ol> BI tool query timeout <p>Solutions:</p> <ol> <li> <p>Increase statement timeout: </p><pre><code>ALTER SESSION SET STATEMENT_TIMEOUT_IN_SECONDS = 3600;\n</code></pre><p></p> </li> <li> <p>Increase timeout in BI tool settings</p> </li> <li> <p>Optimize query to run faster</p> </li> <li> <p>Use extracts instead of live connection</p> </li> </ol>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":""},{"location":"troubleshooting/#collect-diagnostic-information","title":"Collect Diagnostic Information","text":"<p>When contacting support, gather:</p> <ol> <li>Error message \u2014 Full text, not paraphrased</li> <li>Query ID \u2014 From Snowflake query history</li> <li>Tool versions \u2014 BI tool, driver, Snowflake</li> <li>Steps to reproduce \u2014 What you did before error</li> <li>Screenshots \u2014 If applicable</li> </ol>"},{"location":"troubleshooting/#useful-diagnostic-queries","title":"Useful Diagnostic Queries","text":"<pre><code>-- Check user permissions\nSHOW GRANTS TO USER current_user();\n\n-- Check role permissions\nSHOW GRANTS TO ROLE your_role;\n\n-- View recent query errors\nSELECT \n    QUERY_ID,\n    ERROR_CODE,\n    ERROR_MESSAGE,\n    QUERY_TEXT\nFROM SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY\nWHERE USER_NAME = CURRENT_USER()\n    AND EXECUTION_STATUS = 'FAIL'\nORDER BY START_TIME DESC\nLIMIT 10;\n\n-- Check login failures\nSELECT *\nFROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE USER_NAME = 'your_username'\n    AND IS_SUCCESS = 'NO'\nORDER BY EVENT_TIMESTAMP DESC\nLIMIT 10;\n</code></pre>"},{"location":"troubleshooting/#support-resources","title":"Support Resources","text":"Resource Description Snowflake Documentation Official documentation Snowflake Community User forum Tableau Help Tableau documentation Power BI Community Power BI forum Snowflake Support Submit a ticket via Snowflake UI"},{"location":"troubleshooting/#quick-reference","title":"Quick Reference","text":""},{"location":"troubleshooting/#common-error-codes","title":"Common Error Codes","text":"Error Meaning Solution <code>390100</code> Invalid username/password Verify credentials <code>390201</code> Role not authorized Check role grants <code>390318</code> IP not allowed Check network policy <code>250001</code> Warehouse not running Resume warehouse <code>100183</code> Query timeout Increase timeout or optimize"},{"location":"troubleshooting/#diagnostic-commands","title":"Diagnostic Commands","text":"<pre><code>-- Current session info\nSELECT \n    CURRENT_USER() as user,\n    CURRENT_ROLE() as role,\n    CURRENT_WAREHOUSE() as warehouse,\n    CURRENT_DATABASE() as database;\n\n-- Warehouse status\nSHOW WAREHOUSES;\n\n-- Recent queries\nSELECT * FROM TABLE(INFORMATION_SCHEMA.QUERY_HISTORY())\nORDER BY START_TIME DESC LIMIT 20;\n</code></pre>"},{"location":"authentication/key-pair/","title":"Key-Pair Authentication","text":""},{"location":"authentication/key-pair/#key-pair-authentication","title":"Key-Pair Authentication","text":"<p>Very High Security</p> <p>Key-pair authentication uses RSA public/private key cryptography for password-less authentication. This is the most secure method, ideal for service accounts and automated processes.</p>"},{"location":"authentication/key-pair/#overview","title":"Overview","text":"<pre><code>sequenceDiagram\n    participant Client as BI Tool / Script\n    participant Snowflake\n\n    Note over Client: Private Key stored securely\n    Note over Snowflake: Public Key registered\n\n    Client-&gt;&gt;Snowflake: Connect with private key\n    Snowflake-&gt;&gt;Snowflake: Verify against public key\n    Snowflake--&gt;&gt;Client: Authenticated Session</code></pre>"},{"location":"authentication/key-pair/#pros-and-cons","title":"Pros and Cons","text":""},{"location":"authentication/key-pair/#advantages","title":"Advantages","text":"<ul> <li>No Password \u2014 Eliminates password management and rotation</li> <li>Highest Security \u2014 Cryptographic RSA authentication (2048-bit recommended)</li> <li>Non-Interactive \u2014 Perfect for automation, scheduled jobs, and ETL</li> <li>No MFA Interference \u2014 Bypasses MFA prompts completely</li> <li>Rotation Capable \u2014 Keys can be rotated independently with zero downtime</li> <li>Audit Trail \u2014 Key usage is logged in Snowflake audit logs</li> <li>Service Account Ready \u2014 Designed specifically for automation and service accounts</li> <li>No Token Expiration \u2014 Keys don't expire (unlike OAuth tokens)</li> <li>Platform Agnostic \u2014 Works on Windows, macOS, and Linux</li> <li>Dual Key Support \u2014 Snowflake supports two keys for seamless rotation</li> <li>No IdP Dependency \u2014 Works independently of identity providers</li> <li>Scheduled Refresh Friendly \u2014 Ideal for Tableau Server and Power BI scheduled refreshes</li> <li>Compliance Ready \u2014 Meets security requirements for automated processes</li> </ul>"},{"location":"authentication/key-pair/#disadvantages","title":"Disadvantages","text":"<ul> <li>Complex Setup \u2014 Requires key generation, registration, and management</li> <li>Key Security \u2014 Private key must be protected (equivalent to password)</li> <li>Limited Tool Support \u2014 Not all BI tools support it (Power BI doesn't)</li> <li>No Power BI \u2014 Power BI Desktop and Service don't support key-pair authentication</li> <li>User Training \u2014 Technical knowledge required for setup and rotation</li> <li>Key Rotation \u2014 Requires coordinated updates across all systems using the key</li> <li>Key Storage \u2014 Must securely store private keys (HSM, secrets manager, etc.)</li> <li>Initial Learning Curve \u2014 Users need to understand PKCS#8 format and OpenSSL</li> <li>File Management \u2014 Private keys must be stored securely on each client</li> <li>Not for Interactive Users \u2014 Better suited for automation than daily user access</li> <li>Key Recovery \u2014 Lost private key requires regeneration and re-registration</li> <li>Platform-Specific Paths \u2014 Different file paths on Windows vs macOS/Linux</li> </ul>"},{"location":"authentication/key-pair/#bi-tool-support","title":"BI Tool Support","text":"Tool Support Level Notes Tableau Desktop  Full Native support since 2020.3 Tableau Server  Full For data source connections Power BI Desktop  None Use OAuth instead Power BI Service  None Use OAuth instead Excel (ODBC)  Full Via ODBC driver configuration Python/Scripts  Full Native connector support"},{"location":"authentication/key-pair/#key-generation","title":"Key Generation","text":""},{"location":"authentication/key-pair/#step-1-generate-rsa-key-pair","title":"Step 1: Generate RSA Key Pair","text":"macOS / LinuxWindows (PowerShell)Windows (Git Bash) <pre><code># Create directory for keys\nmkdir -p ~/.snowflake/keys\ncd ~/.snowflake/keys\n\n# Generate 2048-bit RSA private key (encrypted)\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 \\\n    -inform PEM -out rsa_key.p8\n\n# You'll be prompted for a passphrase - remember this!\n\n# Generate public key from private key\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n\n# Verify keys\nls -la rsa_key.*\n</code></pre> <p>Unencrypted Key (for automation)</p> <p>For service accounts where passphrase prompts aren't possible:</p> <pre><code>openssl genrsa 2048 | openssl pkcs8 -topk8 -nocrypt \\\n    -inform PEM -out rsa_key_unencrypted.p8\n</code></pre> <p> Store unencrypted keys with extra security!</p> <pre><code># Create directory for keys\nNew-Item -ItemType Directory -Force -Path \"$env:USERPROFILE\\.snowflake\\keys\"\nSet-Location \"$env:USERPROFILE\\.snowflake\\keys\"\n\n# Generate encrypted private key\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 `\n    -inform PEM -out rsa_key.p8\n\n# Generate public key\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n</code></pre> <p>OpenSSL on Windows</p> <p>Install OpenSSL via:</p> <ul> <li>Win64 OpenSSL</li> <li>Or via <code>choco install openssl</code></li> </ul> <pre><code># Create directory\nmkdir -p ~/.snowflake/keys\ncd ~/.snowflake/keys\n\n# Generate key pair (same as Linux)\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 \\\n    -inform PEM -out rsa_key.p8\n\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n</code></pre>"},{"location":"authentication/key-pair/#step-2-register-public-key-in-snowflake","title":"Step 2: Register Public Key in Snowflake","text":"<pre><code>-- Get the public key content (without header/footer)\n-- Copy content between BEGIN PUBLIC KEY and END PUBLIC KEY\n\n-- Assign public key to user\nALTER USER your_username SET RSA_PUBLIC_KEY = 'MIIBIjANBgkqhki...';\n\n-- Or for a second key (for rotation)\nALTER USER your_username SET RSA_PUBLIC_KEY_2 = 'MIIBIjANBgkqhki...';\n\n-- Verify key assignment\nDESC USER your_username;\n</code></pre> <p>Format the Key Correctly</p> <p>Remove the <code>-----BEGIN PUBLIC KEY-----</code> and <code>-----END PUBLIC KEY-----</code> lines. Remove all newlines to make it a single continuous string.</p> <pre><code># Get formatted key (one line)\ngrep -v \"^-\" rsa_key.pub | tr -d '\\n'\n</code></pre>"},{"location":"authentication/key-pair/#bi-tool-configuration","title":"BI Tool Configuration","text":"Tableau DesktopExcel (ODBC)Python / Scripts"},{"location":"authentication/key-pair/#configure-tableau-for-key-pair-auth","title":"Configure Tableau for Key-Pair Auth","text":"<ol> <li>Open Tableau Desktop</li> <li>Connect to Snowflake</li> <li>Enter connection details:</li> </ol> Field Value Server <code>your-account.snowflakecomputing.com</code> Authentication Sign in using Private Key Username Your Snowflake username Private Key File Path to <code>rsa_key.p8</code> Private Key Password Your passphrase (if encrypted) <ol> <li>Click Sign In</li> </ol> <p>File Path Example</p> <ul> <li>macOS: <code>/Users/yourname/.snowflake/keys/rsa_key.p8</code></li> <li>Windows: <code>C:\\Users\\yourname\\.snowflake\\keys\\rsa_key.p8</code></li> </ul>"},{"location":"authentication/key-pair/#tableau-server-published-data-sources","title":"Tableau Server Published Data Sources","text":"<p>For server-side key-pair authentication:</p> <ol> <li>Store private key on Tableau Server</li> <li>Configure data source with key path</li> <li>Use Run As service account</li> </ol> <pre><code># Tableau Server configuration\nvizqlserver.data_connections.snowflake.private_key_file: /path/to/key.p8\nvizqlserver.data_connections.snowflake.private_key_password: encrypted_password\n</code></pre>"},{"location":"authentication/key-pair/#configure-odbc-for-key-pair-auth","title":"Configure ODBC for Key-Pair Auth","text":"<p>Windows:</p> <ol> <li>Open ODBC Data Source Administrator (64-bit)</li> <li>Create/Edit your Snowflake DSN</li> <li>Configure authentication:</li> </ol> Field Value Authenticator <code>SNOWFLAKE_JWT</code> Private Key File <code>C:\\path\\to\\rsa_key.p8</code> Private Key Password Your passphrase <p>Or configure via connection string:</p> <pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.snowflakecomputing.com;\nDatabase=MYDB;\nSchema=PUBLIC;\nWarehouse=COMPUTE_WH;\nUID=myuser;\nAUTHENTICATOR=SNOWFLAKE_JWT;\nPRIV_KEY_FILE=C:\\keys\\rsa_key.p8;\nPRIV_KEY_FILE_PWD=mypassphrase;\n</code></pre> <p>macOS:</p> <p>Configure <code>~/.odbc.ini</code>:</p> <pre><code>[Snowflake_KeyPair]\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\nServer = account.snowflakecomputing.com\nDatabase = MYDB\nSchema = PUBLIC\nWarehouse = COMPUTE_WH\nUID = myuser\nAUTHENTICATOR = SNOWFLAKE_JWT\nPRIV_KEY_FILE = /Users/yourname/.snowflake/keys/rsa_key.p8\nPRIV_KEY_FILE_PWD = mypassphrase\n</code></pre>"},{"location":"authentication/key-pair/#snowflake-python-connector","title":"Snowflake Python Connector","text":"<pre><code>import snowflake.connector\nfrom cryptography.hazmat.backends import default_backend\nfrom cryptography.hazmat.primitives import serialization\n\n# Load private key\nwith open(\"/path/to/rsa_key.p8\", \"rb\") as key_file:\n    private_key = serialization.load_pem_private_key(\n        key_file.read(),\n        password=b'your_passphrase',  # or None if unencrypted\n        backend=default_backend()\n    )\n\n# Connect to Snowflake\nconn = snowflake.connector.connect(\n    user='your_username',\n    account='your_account',\n    warehouse='COMPUTE_WH',\n    database='MYDB',\n    schema='PUBLIC',\n    private_key=private_key\n)\n\n# Execute query\ncursor = conn.cursor()\ncursor.execute(\"SELECT CURRENT_USER(), CURRENT_ROLE()\")\nprint(cursor.fetchone())\n</code></pre>"},{"location":"authentication/key-pair/#key-rotation","title":"Key Rotation","text":"<p>Regular key rotation is a security best practice. Snowflake supports two simultaneous keys for seamless rotation.</p>"},{"location":"authentication/key-pair/#rotation-process","title":"Rotation Process","text":"<pre><code>Week 1: Generate new key pair\n        \u2502\n        \u25bc\nWeek 2: Register as RSA_PUBLIC_KEY_2\n        \u2502\n        \u25bc\nWeek 3: Update clients to use new key\n        \u2502\n        \u25bc\nWeek 4: Move new key to RSA_PUBLIC_KEY\n        Remove old RSA_PUBLIC_KEY_2\n</code></pre>"},{"location":"authentication/key-pair/#rotation-commands","title":"Rotation Commands","text":"<pre><code>-- Step 1: Add new key as secondary\nALTER USER service_user SET RSA_PUBLIC_KEY_2 = 'new_key_content...';\n\n-- Step 2: Test new key works\n-- (Connect with new private key)\n\n-- Step 3: Promote new key to primary\nALTER USER service_user SET RSA_PUBLIC_KEY = 'new_key_content...';\n\n-- Step 4: Remove old secondary key\nALTER USER service_user UNSET RSA_PUBLIC_KEY_2;\n</code></pre>"},{"location":"authentication/key-pair/#security-best-practices","title":"Security Best Practices","text":"<p>Private Key Protection</p> <p>The private key is equivalent to a password. Protect it accordingly!</p>"},{"location":"authentication/key-pair/#key-storage-recommendations","title":"Key Storage Recommendations","text":"Environment Recommended Storage Development Encrypted file with passphrase CI/CD Secrets manager (Vault, AWS Secrets) Production Hardware Security Module (HSM) Containers Kubernetes Secrets / Vault injection"},{"location":"authentication/key-pair/#access-controls","title":"Access Controls","text":"<pre><code># Set restrictive permissions (Unix)\nchmod 600 ~/.snowflake/keys/rsa_key.p8\nchmod 644 ~/.snowflake/keys/rsa_key.pub\n</code></pre>"},{"location":"authentication/key-pair/#monitoring-key-usage","title":"Monitoring Key Usage","text":"<pre><code>-- Monitor key-pair authentication events\nSELECT \n    EVENT_TIMESTAMP,\n    USER_NAME,\n    CLIENT_IP,\n    REPORTED_CLIENT_TYPE,\n    FIRST_AUTHENTICATION_FACTOR\nFROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE FIRST_AUTHENTICATION_FACTOR = 'RSA_KEYPAIR'\nORDER BY EVENT_TIMESTAMP DESC\nLIMIT 100;\n</code></pre>"},{"location":"authentication/key-pair/#troubleshooting","title":"Troubleshooting","text":"Error: Private key is invalid <p>Solutions:</p> <ol> <li> <p>Verify key format is PKCS#8: </p><pre><code>head -1 rsa_key.p8\n# Should show: -----BEGIN ENCRYPTED PRIVATE KEY-----\n# or: -----BEGIN PRIVATE KEY-----\n</code></pre><p></p> </li> <li> <p>Regenerate key in correct format</p> </li> <li>Check passphrase is correct</li> </ol> Error: JWT token is invalid <p>Solutions:</p> <ol> <li> <p>Verify public key is registered: </p><pre><code>DESC USER your_username;\n-- Check RSA_PUBLIC_KEY field\n</code></pre><p></p> </li> <li> <p>Ensure key formats match (public from same private key)</p> </li> <li>Check system clock synchronization</li> </ol> Error: Could not find private key file <p>Solutions:</p> <ol> <li>Verify file path is absolute</li> <li>Check file permissions (readable by application)</li> <li>On Windows, use forward slashes or escaped backslashes</li> <li>Verify file extension is correct</li> </ol> Passphrase prompt keeps appearing <p>Solutions:</p> <ol> <li>For automation, use unencrypted key (with proper security)</li> <li>Store passphrase in secure credential manager</li> <li>Check if BI tool supports passphrase caching</li> </ol>"},{"location":"authentication/key-pair/#use-cases","title":"Use Cases","text":""},{"location":"authentication/key-pair/#service-account-for-etl","title":"Service Account for ETL","text":"<pre><code>-- Create dedicated service account\nCREATE USER etl_service_user\n    TYPE = SERVICE\n    DEFAULT_WAREHOUSE = 'ETL_WH'\n    DEFAULT_ROLE = 'ETL_ROLE';\n\n-- Grant minimal required permissions\nGRANT ROLE ETL_ROLE TO USER etl_service_user;\n\n-- Assign key-pair (no password)\nALTER USER etl_service_user SET RSA_PUBLIC_KEY = '...';\n</code></pre>"},{"location":"authentication/key-pair/#tableau-server-data-source","title":"Tableau Server Data Source","text":"<p>For scheduled extract refreshes without user interaction:</p> <ol> <li>Create service account in Snowflake</li> <li>Configure key-pair authentication</li> <li>Store private key on Tableau Server</li> <li>Configure data source with key credentials</li> </ol>"},{"location":"authentication/key-pair/#next-steps","title":"Next Steps","text":"<ul> <li>Best Practices: Security \u2014 Complete security recommendations</li> <li>Troubleshooting \u2014 Common issues and solutions</li> </ul>"},{"location":"authentication/oauth-sso/","title":"OAuth / Service Principal","text":""},{"location":"authentication/oauth-sso/#oauth-service-principal-authentication","title":"OAuth / Service Principal Authentication","text":"<p>Best Practice</p> <p>OAuth provides enterprise-grade authentication by integrating Snowflake with your organization's identity provider (IdP). This is the recommended method for both interactive users and service accounts in production environments.</p> <p>Proven Configuration</p> <p>The Power BI External OAuth configuration in this guide has been tested and verified to work with Azure AD and Snowflake.</p>"},{"location":"authentication/oauth-sso/#overview","title":"Overview","text":""},{"location":"authentication/oauth-sso/#power-bi-external-oauth-flow","title":"Power BI External OAuth Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant PowerBI as Power BI\n    participant AzureAD as Azure AD\n    participant Snowflake\n\n    User-&gt;&gt;PowerBI: Connect to Snowflake\n    PowerBI-&gt;&gt;AzureAD: Request token for Power BI connector\n    AzureAD-&gt;&gt;User: Login + MFA (if required)\n    User-&gt;&gt;AzureAD: Authenticate\n    AzureAD-&gt;&gt;PowerBI: Azure AD Token\n    PowerBI-&gt;&gt;Snowflake: Token with audience claim\n    Note over Snowflake: Validates token against&lt;br/&gt;EXTERNAL_OAUTH_AUDIENCE_LIST\n    Note over Snowflake: Maps UPN to LOGIN_NAME\n    Snowflake--&gt;&gt;PowerBI: Authorized Session</code></pre>"},{"location":"authentication/oauth-sso/#generic-oauthsso-flow","title":"Generic OAuth/SSO Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant BI Tool\n    participant IdP as Identity Provider&lt;br&gt;(Okta, Azure AD)\n    participant Snowflake\n\n    User-&gt;&gt;BI Tool: Click \"Sign In with SSO\"\n    BI Tool-&gt;&gt;IdP: Redirect to IdP\n    IdP-&gt;&gt;User: Login + MFA\n    User-&gt;&gt;IdP: Authenticate\n    IdP-&gt;&gt;BI Tool: OAuth Token\n    BI Tool-&gt;&gt;Snowflake: Token + Request\n    Snowflake--&gt;&gt;BI Tool: Authorized Session</code></pre>"},{"location":"authentication/oauth-sso/#visual-guide","title":"Visual Guide","text":"Click the image to expand \u2014 OAuth authentication flow between Power BI, Azure AD, and Snowflake"},{"location":"authentication/oauth-sso/#pros-and-cons","title":"Pros and Cons","text":""},{"location":"authentication/oauth-sso/#advantages","title":"Advantages","text":"<ul> <li>Enterprise Security \u2014 Leverages existing IdP infrastructure and security policies</li> <li>MFA Support \u2014 Native MFA through identity provider (Okta, Azure AD, etc.)</li> <li>Centralized Management \u2014 Single point for user provisioning and deprovisioning</li> <li>Audit Trail \u2014 Complete logging via IdP and Snowflake audit logs</li> <li>Token-Based \u2014 No password stored in BI tool connections</li> <li>SSO Experience \u2014 Single login across applications (no password fatigue)</li> <li>Compliance Ready \u2014 Meets enterprise security standards (SOC 2, HIPAA, etc.)</li> <li>Conditional Access \u2014 Enforce location, device trust, and risk-based policies</li> <li>Automatic User Sync \u2014 Users automatically provisioned/deprovisioned</li> <li>Password Policy Enforcement \u2014 IdP enforces password complexity and rotation</li> <li>Multi-IdP Support \u2014 Can integrate with multiple identity providers</li> <li>Row-Level Security \u2014 User identity flows to Snowflake for RLS policies</li> <li>Reduced Support Burden \u2014 Users use existing corporate credentials</li> </ul>"},{"location":"authentication/oauth-sso/#disadvantages","title":"Disadvantages","text":"<ul> <li>Initial Complexity \u2014 Requires IdP and Snowflake configuration coordination</li> <li>IT Dependency \u2014 Needs coordination with identity/security team</li> <li>Token Expiration \u2014 Users must re-authenticate periodically (default 90 days)</li> <li>IdP Dependency \u2014 IdP outage affects all Snowflake access</li> <li>Setup Time \u2014 Longer initial configuration (days to weeks)</li> <li>Not for Automation \u2014 Requires interactive login (use Key-Pair for automation)</li> <li>User Mapping Complexity \u2014 Must ensure user identifiers match between systems</li> <li>Token Management \u2014 Need to handle token refresh and expiration gracefully</li> <li>Limited Excel Support \u2014 Excel ODBC does not support OAuth natively</li> <li>Configuration Maintenance \u2014 Requires ongoing coordination for changes</li> <li>Potential Performance \u2014 Additional authentication hop may add slight latency</li> <li>Cost \u2014 May require IdP licensing (though many orgs already have this)</li> </ul>"},{"location":"authentication/oauth-sso/#supported-identity-providers","title":"Supported Identity Providers","text":"Identity Provider Tableau Power BI Snowflake Support Okta  Native Azure AD / Entra ID  Native OneLogin  Native Ping Identity  Native Google Workspace  Via SAML Custom SAML  Configurable"},{"location":"authentication/oauth-sso/#configuration-overview","title":"Configuration Overview","text":""},{"location":"authentication/oauth-sso/#prerequisites","title":"Prerequisites","text":"<p>Before configuring OAuth/SSO, ensure:</p> <ul> <li> IdP administrator access</li> <li> Snowflake ACCOUNTADMIN or SECURITYADMIN role</li> <li> Users provisioned in both IdP and Snowflake</li> <li> Matching email addresses between IdP and Snowflake</li> </ul>"},{"location":"authentication/oauth-sso/#snowflake-configuration","title":"Snowflake Configuration","text":"OAuth with Azure AD (Entra ID)OAuth with OktaPower BI External OAuth (Recommended)Native Snowflake OAuth <p>Step 1: Create OAuth Security Integration</p> <pre><code>CREATE OR REPLACE SECURITY INTEGRATION azure_oauth\n    TYPE = EXTERNAL_OAUTH\n    ENABLED = TRUE\n    EXTERNAL_OAUTH_TYPE = AZURE\n    EXTERNAL_OAUTH_ISSUER = 'https://sts.windows.net/&lt;tenant-id&gt;/'\n    EXTERNAL_OAUTH_JWS_KEYS_URL = 'https://login.microsoftonline.com/&lt;tenant-id&gt;/discovery/v2.0/keys'\n    EXTERNAL_OAUTH_AUDIENCE_LIST = ('https://&lt;account&gt;.snowflakecomputing.com')\n    EXTERNAL_OAUTH_TOKEN_USER_MAPPING_CLAIM = 'upn'\n    EXTERNAL_OAUTH_SNOWFLAKE_USER_MAPPING_ATTRIBUTE = 'login_name'\n    EXTERNAL_OAUTH_ANY_ROLE_MODE = 'ENABLE';\n</code></pre> <p>Step 2: Register Application in Azure</p> <ol> <li>Go to Azure Portal \u2192 Azure Active Directory \u2192 App registrations</li> <li>Click New registration</li> <li>Configure:<ul> <li>Name: <code>Snowflake BI Connection</code></li> <li>Supported account types: Single tenant</li> <li>Redirect URI: Based on your BI tool</li> </ul> </li> <li>Note the Application (client) ID and Tenant ID</li> <li>Create a Client Secret under Certificates &amp; secrets</li> </ol> <p>Step 1: Create OAuth Security Integration</p> <pre><code>CREATE OR REPLACE SECURITY INTEGRATION okta_oauth\n    TYPE = EXTERNAL_OAUTH\n    ENABLED = TRUE\n    EXTERNAL_OAUTH_TYPE = OKTA\n    EXTERNAL_OAUTH_ISSUER = 'https://&lt;your-org&gt;.okta.com/oauth2/&lt;auth-server-id&gt;'\n    EXTERNAL_OAUTH_JWS_KEYS_URL = 'https://&lt;your-org&gt;.okta.com/oauth2/&lt;auth-server-id&gt;/v2/keys'\n    EXTERNAL_OAUTH_TOKEN_USER_MAPPING_CLAIM = 'sub'\n    EXTERNAL_OAUTH_SNOWFLAKE_USER_MAPPING_ATTRIBUTE = 'login_name'\n    EXTERNAL_OAUTH_ANY_ROLE_MODE = 'ENABLE';\n</code></pre> <p>Step 2: Configure Okta Application</p> <ol> <li>Go to Okta Admin Console \u2192 Applications</li> <li>Click Create App Integration</li> <li>Select OIDC - OpenID Connect</li> <li>Choose Web Application</li> <li>Configure:<ul> <li>App name: <code>Snowflake BI Tools</code></li> <li>Sign-in redirect URIs: Based on your BI tool</li> <li>Sign-out redirect URIs: Your app's logout URL</li> </ul> </li> <li>Assign users/groups to the application</li> </ol> <p>This configuration enables seamless SSO between Power BI and Snowflake using Azure AD tokens.</p> <p>Step 1: Create External OAuth Security Integration</p> <pre><code>CREATE OR REPLACE SECURITY INTEGRATION powerbi_external_oauth\n  TYPE = EXTERNAL_OAUTH\n  ENABLED = TRUE\n  EXTERNAL_OAUTH_TYPE = AZURE\n  EXTERNAL_OAUTH_ISSUER = 'https://sts.windows.net/&lt;Azure_Tenant_ID&gt;/'\n  EXTERNAL_OAUTH_JWS_KEYS_URL = 'https://login.microsoftonline.com/common/discovery/keys'\n  EXTERNAL_OAUTH_AUDIENCE_LIST = (\n    'https://analysis.windows.net/powerbi/connector/Snowflake',\n    'https://analysis.windows.net/powerbi/connector/snowflake'\n  )\n  EXTERNAL_OAUTH_TOKEN_USER_MAPPING_CLAIM = 'upn'\n  EXTERNAL_OAUTH_SNOWFLAKE_USER_MAPPING_ATTRIBUTE = 'LOGIN_NAME';\n</code></pre> <p>Replace <code>&lt;Azure_Tenant_ID&gt;</code></p> <p>Find your tenant ID in Azure Portal \u2192 Azure Active Directory \u2192 Overview \u2192 Tenant ID</p> <p>Step 2: Configure Allowed Roles</p> <pre><code>ALTER SECURITY INTEGRATION powerbi_external_oauth\n  SET EXTERNAL_OAUTH_ALLOWED_ROLES_LIST = (\n    'PUBLIC',\n    'ANALYTICS_ROLE'  -- Add your BI roles here\n  );\n</code></pre> <p>Step 3: Ensure User Mapping</p> <p>Snowflake users must have their <code>LOGIN_NAME</code> set to match their Azure AD UPN (email):</p> <pre><code>-- Check existing users\nSELECT login_name, email FROM SNOWFLAKE.ACCOUNT_USAGE.USERS;\n\n-- Update user if needed\nALTER USER john_doe SET LOGIN_NAME = 'john.doe@company.com';\n</code></pre> <p>Step 4: Connect from Power BI</p> <ol> <li>Open Power BI Desktop or Power BI Service</li> <li>Get Data \u2192 Snowflake</li> <li>Enter your Snowflake account URL and warehouse</li> <li>Select Microsoft Account authentication</li> <li>Sign in with your Azure AD credentials</li> <li>Power BI automatically exchanges tokens with Snowflake</li> </ol> <p>For Tableau's built-in OAuth:</p> <pre><code>CREATE OR REPLACE SECURITY INTEGRATION tableau_oauth\n    TYPE = OAUTH\n    ENABLED = TRUE\n    OAUTH_CLIENT = TABLEAU_DESKTOP\n    OAUTH_REFRESH_TOKEN_VALIDITY = 7776000; -- 90 days\n</code></pre>"},{"location":"authentication/oauth-sso/#bi-tool-configuration","title":"BI Tool Configuration","text":"TableauPower BIExcel <p>Limited OAuth Support</p> <p>Excel does not natively support OAuth for Snowflake ODBC connections.</p> <p>Alternatives:</p> <ol> <li>Use username/password with ODBC</li> <li>Use Key-Pair authentication via ODBC</li> <li>Connect via Power Query which supports OAuth</li> </ol>"},{"location":"authentication/oauth-sso/#tableau-desktop-with-oauth","title":"Tableau Desktop with OAuth","text":"<ol> <li>Open Tableau Desktop</li> <li>Connect to Snowflake</li> <li>Select Sign in using OAuth</li> <li>Click Sign In</li> <li>Browser opens to your IdP login page</li> <li>Complete authentication (including MFA if enabled)</li> <li>Return to Tableau - connection established</li> </ol> <p>Token Refresh</p> <p>Tableau caches OAuth tokens. Default expiration is 90 days. After expiration, you'll be prompted to re-authenticate.</p>"},{"location":"authentication/oauth-sso/#tableau-server-configuration","title":"Tableau Server Configuration","text":"<p>For published dashboards with OAuth:</p> <ol> <li>Tableau Server Admin \u2192 Settings \u2192 Authentication</li> <li>Enable External OAuth for Snowflake</li> <li>Configure saved credentials or prompt users</li> </ol> <pre><code># Example tableau server config\nwgserver.authentication.oauth.enabled: true\nwgserver.authentication.oauth.snowflake.enabled: true\n</code></pre>"},{"location":"authentication/oauth-sso/#power-bi-service-with-azure-ad-sso","title":"Power BI Service with Azure AD SSO","text":"<p>Prerequisites:</p> <ul> <li>Azure AD tenant with Power BI</li> <li>Snowflake configured for Azure AD OAuth</li> <li>Matching user emails in both systems</li> </ul> <p>Configuration:</p> <ol> <li>Power BI Admin Portal \u2192 Tenant settings</li> <li>Enable Snowflake SSO</li> <li>In Snowflake:</li> </ol> <pre><code>-- Verify Azure AD integration\nDESCRIBE SECURITY INTEGRATION azure_oauth;\n\n-- Ensure users have matching identifiers\nSELECT login_name, email FROM SNOWFLAKE.ACCOUNT_USAGE.USERS\nWHERE email IS NOT NULL;\n</code></pre> <p>User Connection:</p> <ol> <li>In Power BI Service, create/open a report</li> <li>Connect to Snowflake data source</li> <li>Select OAuth2 authentication</li> <li>User is authenticated via Azure AD automatically</li> </ol>"},{"location":"authentication/oauth-sso/#power-bi-desktop","title":"Power BI Desktop","text":"<ol> <li>Get Data \u2192 Snowflake</li> <li>Enter server and warehouse</li> <li>Under Advanced options, select AAD Interactive</li> <li>Sign in with organizational account</li> </ol> <p>DirectQuery Requirements</p> <p>For SSO with DirectQuery:</p> <ul> <li>Azure AD accounts must match Snowflake users</li> <li>Power BI Premium capacity required for some features</li> </ul>"},{"location":"authentication/oauth-sso/#token-management","title":"Token Management","text":""},{"location":"authentication/oauth-sso/#token-lifecycle","title":"Token Lifecycle","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        OAuth Token Flow                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                   \u2502\n\u2502  Initial Login \u2500\u2500\u25b6 Access Token \u2500\u2500\u25b6 Expires \u2500\u2500\u25b6 Refresh Token    \u2502\n\u2502       \u2502              (Short)         \u2502            (Long)          \u2502\n\u2502       \u2502                              \u2502              \u2502              \u2502\n\u2502       \u25bc                              \u25bc              \u25bc              \u2502\n\u2502  IdP Auth + MFA               Re-authenticate   Seamless Refresh  \u2502\n\u2502                                                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"authentication/oauth-sso/#configure-token-validity","title":"Configure Token Validity","text":"<pre><code>-- View current settings\nDESCRIBE SECURITY INTEGRATION tableau_oauth;\n\n-- Modify token validity (max 90 days)\nALTER SECURITY INTEGRATION tableau_oauth\n    SET OAUTH_REFRESH_TOKEN_VALIDITY = 7776000; -- seconds\n\n-- For shorter sessions (7 days)\nALTER SECURITY INTEGRATION tableau_oauth\n    SET OAUTH_REFRESH_TOKEN_VALIDITY = 604800;\n</code></pre>"},{"location":"authentication/oauth-sso/#troubleshooting","title":"Troubleshooting","text":"Error: OAuth token is invalid or expired <p>Solutions:</p> <ol> <li>Clear cached credentials in the BI tool</li> <li>Re-authenticate via OAuth flow</li> <li>Verify token validity settings in Snowflake</li> <li>Check IdP session policies</li> </ol> Error: User not found in Snowflake <p>Solutions:</p> <ol> <li>Verify user exists in Snowflake with matching identifier: <pre><code>SELECT * FROM SNOWFLAKE.ACCOUNT_USAGE.USERS \nWHERE login_name = 'user@company.com';\n</code></pre></li> <li>Check user mapping claim configuration</li> <li>Ensure email/UPN matches between IdP and Snowflake</li> </ol> Error: SAML assertion failed <p>Solutions:</p> <ol> <li>Verify SAML certificate hasn't expired</li> <li>Check clock synchronization between IdP and Snowflake</li> <li>Validate SAML attribute mappings</li> <li>Review IdP logs for details</li> </ol> MFA not prompting <p>Solutions:</p> <ol> <li>Check IdP conditional access policies</li> <li>Verify MFA is enabled for the application</li> <li>Clear browser cache and cookies</li> <li>Try incognito/private browsing</li> </ol>"},{"location":"authentication/oauth-sso/#security-best-practices","title":"Security Best Practices","text":"<p>Recommended Configuration</p> <ol> <li>Enforce MFA at the IdP level</li> <li>Set reasonable token expiry (7-30 days for interactive)</li> <li>Implement conditional access (location, device trust)</li> <li>Regular access reviews via IdP</li> <li>Monitor OAuth usage in Snowflake:</li> </ol> <pre><code>SELECT * FROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE AUTHENTICATION_METHOD = 'OAUTH_ACCESS_TOKEN'\nORDER BY EVENT_TIMESTAMP DESC\nLIMIT 100;\n</code></pre>"},{"location":"authentication/oauth-sso/#next-steps","title":"Next Steps","text":"<ul> <li>Key-Pair Authentication \u2014 For service accounts and automation</li> <li>Best Practices: Security \u2014 Complete security guide</li> </ul>"},{"location":"authentication/overview/","title":"Overview","text":""},{"location":"authentication/overview/#authentication-methods-overview","title":"Authentication Methods Overview","text":"<p>Snowflake supports multiple authentication methods, each designed for different use cases and security requirements. This guide helps you choose the right method for your needs.</p> <p>Interactive vs. Service Account Authentication</p> <p>Interactive users (humans) typically use OAuth/SSO with MFA. Service accounts (automated BI refreshes) need non-interactive methods like OAuth with Service Principal, Programmatic Access Tokens, or Key-Pair authentication.</p>"},{"location":"authentication/overview/#authentication-methods-comparison","title":"Authentication Methods Comparison","text":""},{"location":"authentication/overview/#oauth2-with-service-principal","title":"OAuth2 with Service Principal","text":"<p>Best Practice</p> <p>Machine-to-machine authentication using your organization's identity provider (Azure AD, Okta). No interactive MFA required.</p> <p>Best for: Production BI deployments, scheduled refreshes, service accounts</p> <p>Learn More </p>"},{"location":"authentication/overview/#pros","title":"Pros","text":"<ul> <li>Centralized identity control</li> <li>Token expiry and rotation</li> <li>No password storage</li> <li>No interactive MFA prompts</li> <li>Audit trail via IdP</li> </ul>"},{"location":"authentication/overview/#cons","title":"Cons","text":"<ul> <li>Requires IdP setup (Azure AD/Okta)</li> <li>Snowflake security integration config</li> <li>IT coordination needed</li> <li>Initial complexity</li> </ul>"},{"location":"authentication/overview/#programmatic-access-tokens-pats","title":"Programmatic Access Tokens (PATs)","text":"<p>High Security</p> <p>Long-lived tokens that replace passwords for service accounts. Use with <code>TYPE=SERVICE</code> users.</p> <p>Best for: Service accounts when OAuth isn't available, legacy integrations</p> <p>Learn More </p>"},{"location":"authentication/overview/#pros_1","title":"Pros","text":"<ul> <li>Works where OAuth isn't feasible</li> <li>Avoids storing real passwords</li> <li>Non-interactive authentication</li> <li>Simple to implement</li> <li>Works with all BI tools</li> </ul>"},{"location":"authentication/overview/#cons_1","title":"Cons","text":"<ul> <li>Tokens need secure storage</li> <li>Manual rotation required</li> <li>Not as seamless as OAuth</li> <li>Expiration management needed</li> </ul>"},{"location":"authentication/overview/#key-pair-authentication","title":"Key-Pair Authentication","text":"<p>Very High Security</p> <p>Cryptographic authentication using RSA public/private key pairs. Tableau only \u2014 not supported by Power BI.</p> <p>Best for: Tableau service accounts, automated Tableau extracts</p> <p>Learn More </p>"},{"location":"authentication/overview/#pros_2","title":"Pros","text":"<ul> <li>No passwords to manage</li> <li>Strongest security option</li> <li>Ideal for Tableau automation</li> <li>No MFA interruptions</li> <li>Non-interactive auth</li> </ul>"},{"location":"authentication/overview/#cons_2","title":"Cons","text":"<ul> <li>Not supported by Power BI</li> <li>Complex initial setup</li> <li>Key management overhead</li> <li>Requires technical knowledge</li> </ul>"},{"location":"authentication/overview/#oauth-sso-interactive","title":"OAuth / SSO (Interactive)","text":"<p>High Security</p> <p>Interactive authentication through your IdP for human users with MFA support.</p> <p>Best for: Interactive users in enterprise environments</p> <p>Learn More </p>"},{"location":"authentication/overview/#pros_3","title":"Pros","text":"<ul> <li>Enterprise-grade security</li> <li>Supports MFA natively</li> <li>Centralized user management</li> <li>Session-based access</li> <li>Audit trail via IdP</li> </ul>"},{"location":"authentication/overview/#cons_3","title":"Cons","text":"<ul> <li>Interactive MFA prompts</li> <li>Token expiration (re-auth)</li> <li>Requires IdP configuration</li> <li>Not suitable for automation</li> </ul>"},{"location":"authentication/overview/#username-password","title":"Username &amp; Password","text":"<p>\u26a0\ufe0f Being Deprecated</p> <p>The simplest authentication method using Snowflake credentials directly.</p> <p>Deprecation Notice</p> <p>Snowflake is sunsetting hardcoded username/password for service accounts. Plan migration to OAuth, PATs, or Key-Pair authentication.</p> <p>Best for: Quick testing, development only \u2014 not recommended for production</p> <p>Learn More </p>"},{"location":"authentication/overview/#pros_4","title":"Pros","text":"<ul> <li>Simple and quick setup</li> <li>No additional configuration</li> <li>Works with all BI tools</li> <li>Familiar to most users</li> </ul>"},{"location":"authentication/overview/#cons_4","title":"Cons","text":"<ul> <li>Being deprecated</li> <li>Credentials stored locally</li> <li>No token expiration</li> <li>Higher security risk</li> <li>MFA breaks automation</li> </ul>"},{"location":"authentication/overview/#practical-recommendations","title":"Practical Recommendations","text":"Method Power BI Tableau MFA Required Recommended OAuth2 with Service Principal \u2705 \u2705 No \u2705 Best overall Programmatic Access Tokens \u2705 \u2705 No \u2705 Good fallback Key-Pair Auth \u274c \u2705 No \u2705 For Tableau Username/Password \u2705 \u2705 No (if disabled) \u26a0\ufe0f Not future-proof"},{"location":"authentication/overview/#decision-matrix","title":"Decision Matrix","text":"<p>Use this matrix to choose the right authentication method:</p> Requirement OAuth Service Principal PATs Key-Pair Username/Password Quick setup Enterprise security Automated/scheduled refresh Service accounts Power BI support Tableau support Excel support Centralized management Token/credential rotation Future-proof <p> = Full Support |  = Partial/Limited |  = Not Supported</p>"},{"location":"authentication/overview/#bi-tool-support-matrix","title":"BI Tool Support Matrix","text":"Authentication Tableau Desktop Tableau Server Power BI Desktop Power BI Service Excel OAuth Service Principal Programmatic Access Tokens Key-Pair OAuth Interactive (SSO) Username/Password <p> = Full Support |  = Not Supported</p>"},{"location":"authentication/overview/#security-operational-best-practices","title":"Security &amp; Operational Best Practices","text":"<p>Security Recommendations</p> <ul> <li>Least Privilege RBAC \u2014 Grant only necessary permissions to service accounts</li> <li>Credential Rotation \u2014 Rotate tokens and keys regularly (quarterly recommended)</li> <li>Secure Storage \u2014 Store secrets in Azure Key Vault, HashiCorp Vault, or similar</li> <li>Token Expiration \u2014 Test token refresh logic to avoid scheduled refresh failures</li> <li>Network Policies \u2014 Restrict access by IP when possible</li> <li>Audit Logging \u2014 Monitor access via IdP and Snowflake audit logs</li> </ul> <p>Avoid in Production</p> <p>Username and Password authentication should be avoided in production:</p> <ul> <li>Snowflake is sunsetting this for service accounts</li> <li>Credentials stored in connection files/workbooks</li> <li>No centralized password management</li> <li>MFA breaks automated processes</li> </ul>"},{"location":"authentication/overview/#next-steps","title":"Next Steps","text":"<p>Choose your authentication method and follow the detailed setup guide:</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"authentication/overview/#material-shield-lock-oauth-service-principal","title":":material-shield-lock: OAuth / Service Principal","text":"<p>Best practice for production</p>"},{"location":"authentication/overview/#material-ticket-confirmation-programmatic-tokens","title":":material-ticket-confirmation: Programmatic Tokens","text":"<p>Good fallback option</p>"},{"location":"authentication/overview/#material-key-chain-key-pair-tableau","title":":material-key-chain: Key-Pair (Tableau)","text":"<p>For Tableau automation</p>"},{"location":"authentication/overview/#material-account-key-username-password","title":":material-account-key: Username &amp; Password","text":"<p>Development/testing only</p>"},{"location":"authentication/programmatic-tokens/","title":"Programmatic Tokens","text":""},{"location":"authentication/programmatic-tokens/#programmatic-access-tokens-pats","title":"Programmatic Access Tokens (PATs)","text":"<p>High Security</p> <p>Programmatic Access Tokens (PATs) are long-lived tokens that act as password replacements for service accounts. They provide a secure, non-interactive authentication method for BI tools like Power BI and Tableau.</p>"},{"location":"authentication/programmatic-tokens/#overview","title":"Overview","text":"<pre><code>sequenceDiagram\n    participant Admin as Admin\n    participant Snowflake as Snowflake\n    participant BI as BI Tool\n\n    Admin-&gt;&gt;Snowflake: Create SERVICE user\n    Admin-&gt;&gt;Snowflake: Generate PAT for user\n    Snowflake--&gt;&gt;Admin: Return token\n    Admin-&gt;&gt;BI: Configure connection with token as password\n    BI-&gt;&gt;Snowflake: Connect using username + token\n    Snowflake--&gt;&gt;BI: Authorized session</code></pre>"},{"location":"authentication/programmatic-tokens/#pros-and-cons","title":"Pros and Cons","text":""},{"location":"authentication/programmatic-tokens/#advantages","title":"Advantages","text":"<ul> <li>Works where OAuth isn't feasible \u2014 Simpler setup than full OAuth</li> <li>Avoids storing real passwords \u2014 Tokens can be rotated independently</li> <li>Non-interactive authentication \u2014 No MFA prompts</li> <li>Works with all BI tools \u2014 Power BI, Tableau, Excel</li> <li>Configurable expiration \u2014 Set appropriate token lifetime</li> </ul>"},{"location":"authentication/programmatic-tokens/#disadvantages","title":"Disadvantages","text":"<ul> <li>Tokens need secure storage \u2014 Use a secrets manager</li> <li>Manual rotation required \u2014 Plan for token refresh before expiry</li> <li>Not as seamless as OAuth \u2014 No automatic token refresh</li> <li>Expiration management \u2014 Must monitor and rotate before expiry</li> </ul>"},{"location":"authentication/programmatic-tokens/#setup-guide","title":"Setup Guide","text":""},{"location":"authentication/programmatic-tokens/#step-1-create-a-service-user","title":"Step 1: Create a Service User","text":"<p>Create a dedicated <code>TYPE=SERVICE</code> user for your BI tool:</p> <pre><code>-- Create a service user for Power BI\nCREATE USER powerbi_service\n  TYPE = SERVICE\n  DEFAULT_ROLE = BI_READER_ROLE\n  DEFAULT_WAREHOUSE = BI_WAREHOUSE\n  COMMENT = 'Service account for Power BI scheduled refreshes';\n\n-- Grant necessary role\nGRANT ROLE BI_READER_ROLE TO USER powerbi_service;\n</code></pre> <p>TYPE=SERVICE Users</p> <p><code>TYPE=SERVICE</code> users are specifically designed for programmatic access. They cannot log in interactively and are ideal for automated BI connections.</p>"},{"location":"authentication/programmatic-tokens/#step-2-generate-a-programmatic-access-token","title":"Step 2: Generate a Programmatic Access Token","text":"<p>Generate a PAT for the service user:</p> <pre><code>-- Generate a token with 90-day expiration\nALTER USER powerbi_service \n  SET PROGRAMMATIC_ACCESS_TOKEN = TRUE;\n\n-- Create the token (run as ACCOUNTADMIN or SECURITYADMIN)\nSELECT SYSTEM$GENERATE_PROGRAMMATIC_ACCESS_TOKEN(\n  'powerbi_service',\n  90  -- Days until expiration\n) AS token;\n</code></pre> <p>Save the Token Securely</p> <p>The token is only displayed once. Copy it immediately and store it in a secure secrets manager (Azure Key Vault, HashiCorp Vault, AWS Secrets Manager).</p>"},{"location":"authentication/programmatic-tokens/#step-3-configure-your-bi-tool","title":"Step 3: Configure Your BI Tool","text":"<p>Use the token as the password in your BI tool connection:</p> Power BITableauExcel (ODBC) <ol> <li>Open Power BI Desktop</li> <li>Get Data \u2192 Snowflake</li> <li>Enter connection details:<ul> <li>Server: <code>your-account.snowflakecomputing.com</code></li> <li>Warehouse: <code>BI_WAREHOUSE</code></li> </ul> </li> <li>Choose Database authentication</li> <li>Enter credentials:<ul> <li>Username: <code>powerbi_service</code></li> <li>Password: paste the PAT token</li> </ul> </li> <li>Click Connect</li> </ol> <ol> <li>Open Tableau Desktop</li> <li>Connect \u2192 Snowflake</li> <li>Enter connection details:<ul> <li>Server: <code>your-account.snowflakecomputing.com</code></li> <li>Role: <code>BI_READER_ROLE</code></li> <li>Warehouse: <code>BI_WAREHOUSE</code></li> </ul> </li> <li>Select Username and Password authentication</li> <li>Enter credentials:<ul> <li>Username: <code>powerbi_service</code></li> <li>Password: paste the PAT token</li> </ul> </li> <li>Click Sign In</li> </ol> <ol> <li>Open ODBC Data Source Administrator</li> <li>Select your Snowflake DSN \u2192 Configure</li> <li>Enter connection details:<ul> <li>User: <code>powerbi_service</code></li> <li>Password: paste the PAT token</li> </ul> </li> <li>Click Test to verify</li> <li>Use the DSN in Excel's Get Data \u2192 From ODBC</li> </ol>"},{"location":"authentication/programmatic-tokens/#token-management","title":"Token Management","text":""},{"location":"authentication/programmatic-tokens/#check-token-status","title":"Check Token Status","text":"<pre><code>-- View token expiration for a user\nDESCRIBE USER powerbi_service;\n\n-- Check programmatic access settings\nSHOW PARAMETERS LIKE 'PROGRAMMATIC_ACCESS%' IN USER powerbi_service;\n</code></pre>"},{"location":"authentication/programmatic-tokens/#rotate-tokens","title":"Rotate Tokens","text":"<p>Rotate tokens before they expire to avoid service interruptions:</p> <pre><code>-- Generate a new token (invalidates the old one)\nSELECT SYSTEM$GENERATE_PROGRAMMATIC_ACCESS_TOKEN(\n  'powerbi_service',\n  90  -- New 90-day expiration\n) AS new_token;\n</code></pre> <p>Rotation Best Practices</p> <ul> <li>Set calendar reminders for token expiration</li> <li>Rotate tokens at least 1 week before expiry</li> <li>Update BI tool configurations immediately after rotation</li> <li>Test connections after updating tokens</li> </ul>"},{"location":"authentication/programmatic-tokens/#revoke-tokens","title":"Revoke Tokens","text":"<p>If a token is compromised:</p> <pre><code>-- Revoke all tokens for a user\nALTER USER powerbi_service \n  SET PROGRAMMATIC_ACCESS_TOKEN = FALSE;\n\n-- Re-enable and generate new token\nALTER USER powerbi_service \n  SET PROGRAMMATIC_ACCESS_TOKEN = TRUE;\n\nSELECT SYSTEM$GENERATE_PROGRAMMATIC_ACCESS_TOKEN(\n  'powerbi_service',\n  90\n) AS new_token;\n</code></pre>"},{"location":"authentication/programmatic-tokens/#bi-tool-compatibility","title":"BI Tool Compatibility","text":"BI Tool PAT Support Notes Power BI Desktop \u2705 Use as password in Database auth Power BI Service \u2705 Configure in gateway/data source settings Tableau Desktop \u2705 Use as password Tableau Server/Cloud \u2705 Store in embedded credentials Excel (ODBC) \u2705 Configure in DSN settings"},{"location":"authentication/programmatic-tokens/#security-best-practices","title":"Security Best Practices","text":"<p>Critical Security Requirements</p> <ol> <li>Never store tokens in code or config files \u2014 Use secrets managers</li> <li>Use dedicated service accounts \u2014 One per application/purpose</li> <li>Set appropriate expiration \u2014 Balance security vs. operational overhead</li> <li>Monitor token usage \u2014 Review access logs regularly</li> <li>Rotate promptly \u2014 Change tokens if any suspicion of compromise</li> </ol>"},{"location":"authentication/programmatic-tokens/#secure-storage-options","title":"Secure Storage Options","text":"Platform Secrets Manager Integration Azure Azure Key Vault Power BI Service, Azure Data Factory AWS AWS Secrets Manager Native integration GCP Secret Manager Native integration On-Premises HashiCorp Vault API-based retrieval"},{"location":"authentication/programmatic-tokens/#troubleshooting","title":"Troubleshooting","text":"Token authentication failed <p>Possible causes:</p> <ol> <li>Token expired \u2014 Check expiration and generate a new token</li> <li>Copy/paste error \u2014 Ensure no extra spaces or line breaks</li> <li>Wrong user \u2014 Verify username matches the token's user</li> <li>Token revoked \u2014 Check if programmatic access is still enabled</li> </ol> <pre><code>-- Verify user settings\nDESCRIBE USER powerbi_service;\n</code></pre> Connection works in Desktop but fails in Service <p>For Power BI Service:</p> <ol> <li>Ensure the on-premises data gateway is configured</li> <li>Update data source credentials in Power BI Service</li> <li>Verify network connectivity from gateway to Snowflake</li> </ol> <p>For Tableau Server:</p> <ol> <li>Re-embed credentials in the published workbook</li> <li>Check Tableau Server's connectivity to Snowflake</li> </ol> How often should I rotate tokens? <p>Recommended rotation schedule:</p> <ul> <li>Production systems: Every 90 days</li> <li>Development/test: Every 180 days</li> <li>After any security incident: Immediately</li> </ul> <p>Set token expiration slightly longer than your rotation cycle to allow for delays.</p>"},{"location":"authentication/programmatic-tokens/#next-steps","title":"Next Steps","text":"<ul> <li>OAuth with Service Principal \u2014 Best practice for enterprise</li> <li>Key-Pair Authentication \u2014 For Tableau automation</li> <li>Security Best Practices \u2014 Comprehensive security guide</li> </ul>"},{"location":"authentication/quick-reference/","title":"Quick Reference","text":""},{"location":"authentication/quick-reference/#authentication-quick-reference","title":"Authentication Quick Reference","text":""},{"location":"authentication/quick-reference/#choose-your-authentication-method","title":"Choose Your Authentication Method","text":"<p>Quick decision guide for selecting the right authentication method</p>"},{"location":"authentication/quick-reference/#decision-tree","title":"Decision Tree","text":"<pre><code>graph TD\n    A[Start] --&gt; B{Environment?}\n    B --&gt;|Development/Testing| C[Username/Password]\n    B --&gt;|Production| D{User Type?}\n    D --&gt;|Interactive Users| E{Have IdP?}\n    D --&gt;|Service Account/Automation| F[Key-Pair]\n    E --&gt;|Yes| G[OAuth/SSO]\n    E --&gt;|No| H{Can Setup IdP?}\n    H --&gt;|Yes| G\n    H --&gt;|No| I{High Security Required?}\n    I --&gt;|Yes| F\n    I --&gt;|No| C\n    G --&gt; J{Power BI?}\n    J --&gt;|Yes| K[OAuth with Azure AD]\n    J --&gt;|No| L[OAuth with Any IdP]\n    F --&gt; M{Power BI?}\n    M --&gt;|Yes| N[Use OAuth Instead]\n    M --&gt;|No| O[Key-Pair Works]</code></pre>"},{"location":"authentication/quick-reference/#quick-comparison-table","title":"Quick Comparison Table","text":"Factor Username/Password OAuth/SSO Key-Pair Setup Time Minutes Days/Weeks Hours Security Level \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 MFA Support \u26a0\ufe0f Limited \u2705 Full N/A Automation \u26a0\ufe0f MFA Issues \u26a0\ufe0f Token Expiry \u2705 Perfect Tool Support \u2705 All \u26a0\ufe0f Most \u26a0\ufe0f Limited Maintenance Low Medium Medium Best For Dev/Testing Enterprise Users Service Accounts"},{"location":"authentication/quick-reference/#use-case-matrix","title":"Use Case Matrix","text":""},{"location":"authentication/quick-reference/#by-environment","title":"By Environment","text":"Environment Recommended Method Alternative Development Username/Password Key-Pair Staging OAuth/SSO Key-Pair Production - Users OAuth/SSO - Production - Automation Key-Pair -"},{"location":"authentication/quick-reference/#by-user-type","title":"By User Type","text":"User Type Recommended Method Why Business Analyst OAuth/SSO SSO experience, MFA Data Scientist OAuth/SSO Access to multiple tools Developer Key-Pair or OAuth/SSO Depends on use case Service Account Key-Pair No password, automation ETL Process Key-Pair Scheduled jobs, no MFA"},{"location":"authentication/quick-reference/#by-bi-tool","title":"By BI Tool","text":"Tool Best Method Alternatives Tableau Desktop OAuth/SSO Key-Pair, Username/Password Tableau Server OAuth/SSO Key-Pair (for extracts) Power BI Desktop OAuth/SSO Username/Password Power BI Service OAuth/SSO Username/Password Excel Key-Pair Username/Password"},{"location":"authentication/quick-reference/#platform-considerations","title":"Platform Considerations","text":""},{"location":"authentication/quick-reference/#windows","title":"Windows","text":"Method Support Notes Username/Password \u2705 Full Works everywhere OAuth/SSO \u2705 Full Azure AD native for Power BI Key-Pair \u2705 Full OpenSSL required"},{"location":"authentication/quick-reference/#macos","title":"macOS","text":"Method Support Notes Username/Password \u2705 Full Works everywhere OAuth/SSO \u2705 Full Tableau full support Key-Pair \u2705 Full Native OpenSSL support"},{"location":"authentication/quick-reference/#security-requirements","title":"Security Requirements","text":""},{"location":"authentication/quick-reference/#low-security-development","title":"Low Security (Development)","text":"<ul> <li>\u2705 Username/Password acceptable</li> <li>\u2705 No MFA required</li> <li>\u2705 Simple setup priority</li> </ul>"},{"location":"authentication/quick-reference/#medium-security-staging","title":"Medium Security (Staging)","text":"<ul> <li>\u26a0\ufe0f OAuth/SSO recommended</li> <li>\u26a0\ufe0f MFA optional</li> <li>\u26a0\ufe0f Network policies considered</li> </ul>"},{"location":"authentication/quick-reference/#high-security-production","title":"High Security (Production)","text":"<ul> <li>\u2705 OAuth/SSO required for users</li> <li>\u2705 Key-Pair for automation</li> <li>\u2705 MFA mandatory</li> <li>\u2705 Network policies enforced</li> <li>\u2705 Audit logging enabled</li> </ul>"},{"location":"authentication/quick-reference/#compliance-requirements","title":"Compliance Requirements","text":"Compliance Required Method Additional Requirements SOC 2 OAuth/SSO or Key-Pair Audit logs, access reviews HIPAA OAuth/SSO with MFA Encryption, audit trail GDPR OAuth/SSO Access controls, audit logs PCI DSS OAuth/SSO + Key-Pair Network policies, encryption"},{"location":"authentication/quick-reference/#migration-path","title":"Migration Path","text":""},{"location":"authentication/quick-reference/#from-usernamepassword-to-oauthsso","title":"From Username/Password to OAuth/SSO","text":"<pre><code>Week 1: Configure IdP and Snowflake OAuth\nWeek 2: Test with pilot users\nWeek 3: Roll out to all users\nWeek 4: Disable password auth (optional)\n</code></pre>"},{"location":"authentication/quick-reference/#from-usernamepassword-to-key-pair","title":"From Username/Password to Key-Pair","text":"<pre><code>Day 1: Generate key pairs\nDay 2: Register public keys in Snowflake\nDay 3: Update BI tool connections\nDay 4: Test and verify\nDay 5: Disable password auth\n</code></pre>"},{"location":"authentication/quick-reference/#common-scenarios","title":"Common Scenarios","text":""},{"location":"authentication/quick-reference/#scenario-1-small-team-quick-start","title":"Scenario 1: Small Team, Quick Start","text":"<p>Situation: 5 analysts need immediate access</p> <p>Recommendation:  - Start with Username/Password - Plan migration to OAuth/SSO within 3 months</p>"},{"location":"authentication/quick-reference/#scenario-2-enterprise-with-existing-idp","title":"Scenario 2: Enterprise with Existing IdP","text":"<p>Situation: 200+ users, Okta already in place</p> <p>Recommendation: - OAuth/SSO immediately - Key-Pair for service accounts</p>"},{"location":"authentication/quick-reference/#scenario-3-automated-reporting","title":"Scenario 3: Automated Reporting","text":"<p>Situation: Tableau Server scheduled extracts</p> <p>Recommendation: - Key-Pair authentication - Service account with minimal permissions</p>"},{"location":"authentication/quick-reference/#scenario-4-power-bi-only","title":"Scenario 4: Power BI Only","text":"<p>Situation: Organization uses only Power BI</p> <p>Recommendation: - OAuth/SSO with Azure AD - No Key-Pair (not supported)</p>"},{"location":"authentication/quick-reference/#scenario-5-mixed-environment","title":"Scenario 5: Mixed Environment","text":"<p>Situation: Tableau, Power BI, and Excel users</p> <p>Recommendation: - OAuth/SSO for Tableau and Power BI - Key-Pair for Excel service accounts - Username/Password for Excel ad-hoc users</p>"},{"location":"authentication/quick-reference/#troubleshooting-quick-guide","title":"Troubleshooting Quick Guide","text":"Issue Username/Password OAuth/SSO Key-Pair Can't connect Check credentials Check IdP Check key path MFA blocking Disable MFA or use OAuth Normal flow N/A Token expired N/A Re-authenticate N/A Scheduled refresh fails MFA issue Token expiry Check key permissions Power BI not working Works Works Not supported"},{"location":"authentication/quick-reference/#cost-considerations","title":"Cost Considerations","text":"Method Setup Cost Ongoing Cost Notes Username/Password $0 $0 No additional tools OAuth/SSO IT time IdP licensing Most orgs already have IdP Key-Pair Development time Maintenance OpenSSL free, key management tools optional"},{"location":"authentication/quick-reference/#next-steps","title":"Next Steps","text":"<p>Based on your selection:</p> <ul> <li>Username/Password Setup \u2014 Quick configuration</li> <li>OAuth/SSO Setup \u2014 Enterprise authentication</li> <li>Key-Pair Setup \u2014 Service account authentication</li> </ul>"},{"location":"authentication/quick-reference/#still-unsure","title":"Still Unsure?","text":"<p>Answer these questions:</p> <ol> <li>Do you have an identity provider (Okta, Azure AD, etc.)?</li> <li>Yes \u2192 OAuth/SSO</li> <li> <p>No \u2192 Continue</p> </li> <li> <p>Is this for automated processes or scheduled jobs?</p> </li> <li>Yes \u2192 Key-Pair</li> <li> <p>No \u2192 Continue</p> </li> <li> <p>Do you need MFA and centralized user management?</p> </li> <li>Yes \u2192 Set up OAuth/SSO</li> <li> <p>No \u2192 Username/Password acceptable for small teams</p> </li> <li> <p>Are you using Power BI?</p> </li> <li>Yes \u2192 OAuth/SSO (Key-Pair not supported)</li> <li>No \u2192 Any method works</li> </ol>"},{"location":"authentication/quick-reference/#quick-links","title":"Quick Links","text":"<ul> <li>Authentication Overview \u2014 Detailed comparison</li> <li>Security Best Practices \u2014 Security recommendations</li> <li>Platform Guides \u2014 Windows and macOS specific</li> </ul>"},{"location":"authentication/username-password/","title":"Username & Password","text":""},{"location":"authentication/username-password/#username-password-authentication","title":"Username &amp; Password Authentication","text":"<p>Basic Security</p> <p>Username and password is the simplest authentication method for connecting BI tools to Snowflake. While easy to set up, it should be used with caution in production environments.</p>"},{"location":"authentication/username-password/#overview","title":"Overview","text":"<pre><code>sequenceDiagram\n    participant User\n    participant BI Tool\n    participant Snowflake\n\n    User-&gt;&gt;BI Tool: Enter credentials\n    BI Tool-&gt;&gt;Snowflake: Username + Password\n    Snowflake-&gt;&gt;Snowflake: Validate credentials\n    Snowflake--&gt;&gt;BI Tool: Session token\n    BI Tool--&gt;&gt;User: Connected!</code></pre>"},{"location":"authentication/username-password/#pros-and-cons","title":"Pros and Cons","text":""},{"location":"authentication/username-password/#advantages","title":"Advantages","text":"<ul> <li>Simple Setup \u2014 No additional configuration required</li> <li>Universal Support \u2014 Works with all BI tools (Tableau, Power BI, Excel)</li> <li>Quick Start \u2014 Connect in minutes, no IT coordination needed</li> <li>Familiar \u2014 Standard authentication flow users understand</li> <li>No Dependencies \u2014 No IdP, OAuth provider, or key management needed</li> <li>Works Everywhere \u2014 Supported on Windows and macOS</li> <li>No Token Expiration \u2014 Credentials persist until changed</li> <li>Immediate Access \u2014 No waiting for IdP configuration</li> <li>Development Friendly \u2014 Ideal for local development and testing</li> </ul>"},{"location":"authentication/username-password/#disadvantages","title":"Disadvantages","text":"<ul> <li>Security Risk \u2014 Credentials stored in connection files/workbooks</li> <li>MFA Complications \u2014 Interactive MFA may block automated connections</li> <li>No Centralized Control \u2014 Users manage own passwords independently</li> <li>Password Fatigue \u2014 Another credential to remember and rotate</li> <li>Audit Limitations \u2014 Harder to track and audit access patterns</li> <li>Compliance Issues \u2014 May not meet enterprise security requirements</li> <li>Scheduled Refresh Problems \u2014 MFA-enabled accounts break automated refreshes</li> <li>Credential Theft Risk \u2014 Passwords can be compromised or shared</li> <li>No SSO Integration \u2014 Cannot leverage existing corporate identity</li> <li>Manual Rotation \u2014 Password changes require manual updates in all connections</li> <li>No Conditional Access \u2014 Cannot enforce location/device policies</li> </ul>"},{"location":"authentication/username-password/#when-to-use","title":"When to Use","text":"Scenario Recommendation Rationale Development/Testing  Acceptable Quick setup, no security concerns in dev Personal Analytics  Acceptable Individual use, low risk Production - Single User  Consider OAuth Security concerns, but manageable for one user Production - Team  Use OAuth/SSO Centralized management required Automated Pipelines  Use Key-Pair MFA breaks automation, key-pair is designed for this Compliance Required  Use OAuth/SSO Audit trails and centralized control needed Service Accounts  Use Key-Pair No password management, stronger security Scheduled Refreshes  Use Key-Pair or OAuth MFA breaks scheduled jobs Enterprise Environment  Use OAuth/SSO Integration with existing IdP infrastructure High Security Data  Use OAuth/SSO or Key-Pair Enhanced security required"},{"location":"authentication/username-password/#setup-instructions","title":"Setup Instructions","text":"TableauPower BIExcel"},{"location":"authentication/username-password/#tableau-desktop-connection","title":"Tableau Desktop Connection","text":"<ol> <li>Open Tableau Desktop</li> <li>Click Connect \u2192 To a Server \u2192 Snowflake</li> <li>Enter your connection details:</li> </ol> Field Value Server <code>your-account.snowflakecomputing.com</code> Role Your Snowflake role (optional) Authentication Username and Password Username Your Snowflake username Password Your Snowflake password <ol> <li>Click Sign In</li> <li>Select your Warehouse, Database, and Schema</li> </ol> <p>Save Password</p> <p>Check \"Remember Password\" for convenience, but be aware this stores credentials locally.</p>"},{"location":"authentication/username-password/#power-bi-desktop-connection","title":"Power BI Desktop Connection","text":"<ol> <li>Open Power BI Desktop</li> <li>Click Get Data \u2192 Database \u2192 Snowflake</li> <li>Enter connection details:</li> </ol> Field Value Server <code>your-account.snowflakecomputing.com</code> Warehouse Your warehouse name Database Your database (optional) <ol> <li> <p>Choose Data Connectivity mode:</p> <ul> <li>Import \u2014 Loads data into Power BI</li> <li>DirectQuery \u2014 Queries Snowflake live</li> </ul> </li> <li> <p>Click OK</p> </li> <li>Select Database authentication</li> <li>Enter Username and Password</li> <li>Click Connect</li> </ol> <p>MFA Consideration</p> <p>If MFA is enabled on your account, you may encounter issues with scheduled refresh. Consider OAuth for production.</p>"},{"location":"authentication/username-password/#excel-odbc-connection-windows","title":"Excel ODBC Connection (Windows)","text":"<p>Step 1: Configure ODBC Data Source</p> <ol> <li>Open ODBC Data Source Administrator (64-bit)</li> <li>Go to User DSN or System DSN tab</li> <li>Click Add</li> <li>Select SnowflakeDSIIDriver \u2192 Finish</li> <li>Configure the data source:</li> </ol> Field Value Data Source <code>Snowflake_DSN</code> (your choice) Server <code>your-account.snowflakecomputing.com</code> Database Your database Schema Your schema Warehouse Your warehouse Role Your role (optional) Authenticator Leave blank for password auth <ol> <li>Click OK</li> </ol> <p>Step 2: Connect from Excel</p> <ol> <li>Open Excel</li> <li>Go to Data \u2192 Get Data \u2192 From Other Sources \u2192 From ODBC</li> <li>Select your DSN \u2192 OK</li> <li>Enter Username and Password</li> <li>Select tables/views and click Load</li> </ol>"},{"location":"authentication/username-password/#excel-on-macos","title":"Excel on macOS","text":"<ol> <li>Configure ODBC via <code>~/.odbc.ini</code>:</li> </ol> <pre><code>[Snowflake]\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\nServer = your-account.snowflakecomputing.com\nDatabase = YOUR_DATABASE\nSchema = YOUR_SCHEMA\nWarehouse = YOUR_WAREHOUSE\n</code></pre> <ol> <li>Use Excel's ODBC connection with the configured DSN</li> </ol>"},{"location":"authentication/username-password/#security-hardening","title":"Security Hardening","text":"<p>If you must use username/password authentication, follow these guidelines:</p>"},{"location":"authentication/username-password/#password-requirements","title":"Password Requirements","text":"<ul> <li> Minimum 14 characters</li> <li> Mix of uppercase, lowercase, numbers, symbols</li> <li> Unique password (not used elsewhere)</li> <li> Change every 90 days</li> </ul>"},{"location":"authentication/username-password/#account-settings","title":"Account Settings","text":"<p>Configure in Snowflake to enhance security:</p> <pre><code>-- Enforce password policy\nALTER ACCOUNT SET PASSWORD_HISTORY = 5;\nALTER ACCOUNT SET PASSWORD_MIN_LENGTH = 14;\nALTER ACCOUNT SET PASSWORD_MAX_AGE_DAYS = 90;\n\n-- Lock after failed attempts\nALTER ACCOUNT SET PASSWORD_LOCK_AFTER_NUM_TRIES = 5;\nALTER ACCOUNT SET PASSWORD_UNLOCK_AFTER_MIN = 30;\n</code></pre>"},{"location":"authentication/username-password/#network-policies","title":"Network Policies","text":"<p>Restrict access by IP:</p> <pre><code>-- Create network policy\nCREATE NETWORK POLICY office_only\n  ALLOWED_IP_LIST = ('203.0.113.0/24', '198.51.100.0/24');\n\n-- Apply to user\nALTER USER john_doe SET NETWORK_POLICY = office_only;\n</code></pre>"},{"location":"authentication/username-password/#mfa-considerations","title":"MFA Considerations","text":"<p>MFA and BI Tool Connections</p> <p>Multi-Factor Authentication (MFA) can cause issues with BI tool connections:</p> <ul> <li>Interactive Sessions: MFA prompt may not display correctly</li> <li>Scheduled Refresh: Will fail if MFA is required</li> <li>Background Connections: Cannot complete MFA challenge</li> </ul>"},{"location":"authentication/username-password/#solutions","title":"Solutions","text":"<ol> <li> <p>MFA Exemption (Not Recommended)    </p><pre><code>ALTER USER service_user SET DISABLE_MFA = TRUE;\n</code></pre><p></p> </li> <li> <p>Use OAuth Instead \u2014 OAuth handles MFA through the IdP</p> </li> <li> <p>Use Key-Pair for Automation \u2014 Bypasses MFA requirement</p> </li> </ol>"},{"location":"authentication/username-password/#troubleshooting","title":"Troubleshooting","text":"Error: Invalid username or password <ul> <li>Verify credentials in Snowflake web UI first</li> <li>Check for account lockout</li> <li>Ensure username is correct (case-sensitive)</li> <li>Verify account identifier format</li> </ul> Error: Connection timed out <ul> <li>Check network connectivity</li> <li>Verify firewall allows outbound 443</li> <li>Confirm Snowflake account URL is correct</li> <li>Test with Snowflake web UI</li> </ul> MFA popup not appearing <ul> <li>Some BI tools don't support interactive MFA</li> <li>Consider using OAuth or disabling MFA for the user</li> <li>Check if browser-based auth is an option</li> </ul>"},{"location":"authentication/username-password/#next-steps","title":"Next Steps","text":"<p>For enhanced security, consider migrating to:</p> <ul> <li>OAuth / SSO \u2014 For interactive users with enterprise IdP</li> <li>Key-Pair Authentication \u2014 For service accounts and automation</li> </ul>"},{"location":"best-practices/performance/","title":"Performance","text":""},{"location":"best-practices/performance/#performance-best-practices","title":"Performance Best Practices","text":""},{"location":"best-practices/performance/#optimize-your-snowflake-connections","title":"Optimize Your Snowflake Connections","text":"<p>Maximize query performance from BI tools</p>"},{"location":"best-practices/performance/#overview","title":"Overview","text":"<p>Performance optimization spans three layers:</p> <ol> <li>Snowflake Configuration \u2014 Warehouse sizing, caching, clustering</li> <li>BI Tool Settings \u2014 Connection mode, query optimization</li> <li>Query Design \u2014 Efficient SQL, data modeling</li> </ol>"},{"location":"best-practices/performance/#snowflake-optimization","title":"Snowflake Optimization","text":""},{"location":"best-practices/performance/#warehouse-sizing","title":"Warehouse Sizing","text":"<p>Choose the right warehouse size for your workload:</p> Size Credits/Hour Best For X-Small 1 Simple queries, testing Small 2 Light dashboards Medium 4 Standard BI workloads Large 8 Complex queries, multiple users X-Large+ 16+ Heavy analytical workloads <pre><code>-- Create dedicated BI warehouse\nCREATE WAREHOUSE bi_warehouse\n    WAREHOUSE_SIZE = 'MEDIUM'\n    AUTO_SUSPEND = 300        -- Suspend after 5 minutes idle\n    AUTO_RESUME = TRUE        -- Auto-resume on query\n    INITIALLY_SUSPENDED = TRUE\n    MIN_CLUSTER_COUNT = 1\n    MAX_CLUSTER_COUNT = 3     -- Scale out for concurrency\n    SCALING_POLICY = 'STANDARD';\n\n-- Monitor warehouse usage\nSELECT \n    WAREHOUSE_NAME,\n    AVG(AVG_RUNNING) as avg_queries,\n    AVG(AVG_QUEUED_LOAD) as avg_queued\nFROM SNOWFLAKE.ACCOUNT_USAGE.WAREHOUSE_LOAD_HISTORY\nWHERE START_TIME &gt; DATEADD(day, -7, CURRENT_TIMESTAMP())\nGROUP BY WAREHOUSE_NAME;\n</code></pre>"},{"location":"best-practices/performance/#result-caching","title":"Result Caching","text":"<p>Leverage Snowflake's result cache for repeated queries:</p> <pre><code>-- Enable result caching (default is on)\nALTER SESSION SET USE_CACHED_RESULT = TRUE;\n\n-- Check cache hit rate\nSELECT \n    QUERY_TYPE,\n    COUNT(*) as query_count,\n    SUM(CASE WHEN BYTES_SCANNED = 0 THEN 1 ELSE 0 END) as cache_hits,\n    ROUND(cache_hits / query_count * 100, 2) as cache_hit_pct\nFROM SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY\nWHERE START_TIME &gt; DATEADD(day, -1, CURRENT_TIMESTAMP())\nGROUP BY QUERY_TYPE\nHAVING query_count &gt; 10\nORDER BY query_count DESC;\n</code></pre>"},{"location":"best-practices/performance/#clustering-keys","title":"Clustering Keys","text":"<p>Optimize large tables for common query patterns:</p> <pre><code>-- Add clustering to frequently filtered columns\nALTER TABLE sales CLUSTER BY (sale_date, region);\n\n-- Check clustering depth\nSELECT SYSTEM$CLUSTERING_DEPTH('sales');\n\n-- View clustering information\nSELECT SYSTEM$CLUSTERING_INFORMATION('sales');\n</code></pre>"},{"location":"best-practices/performance/#materialized-views","title":"Materialized Views","text":"<p>Pre-compute expensive aggregations:</p> <pre><code>-- Create materialized view for common aggregations\nCREATE MATERIALIZED VIEW mv_daily_sales AS\nSELECT \n    DATE_TRUNC('day', sale_date) as sale_day,\n    region,\n    product_category,\n    SUM(amount) as total_sales,\n    COUNT(*) as transaction_count\nFROM sales\nGROUP BY 1, 2, 3;\n\n-- Query uses materialized view automatically\nSELECT * FROM mv_daily_sales WHERE sale_day &gt;= '2024-01-01';\n</code></pre>"},{"location":"best-practices/performance/#bi-tool-optimization","title":"BI Tool Optimization","text":""},{"location":"best-practices/performance/#connection-mode-selection","title":"Connection Mode Selection","text":"Mode Performance Data Freshness Best For Import/Extract  Fastest Scheduled refresh Dashboards, exploration DirectQuery/Live  Variable Real-time Large datasets, RLS"},{"location":"best-practices/performance/#when-to-use-importextract","title":"When to Use Import/Extract","text":"<ul> <li>Dashboard requires fast response</li> <li>Data doesn't change frequently</li> <li>Complex calculations in BI tool</li> <li>Offline access needed</li> </ul>"},{"location":"best-practices/performance/#when-to-use-directquerylive","title":"When to Use DirectQuery/Live","text":"<ul> <li>Data must be real-time</li> <li>Dataset too large for import</li> <li>Row-level security required</li> <li>Minimize data duplication</li> </ul>"},{"location":"best-practices/performance/#tableau-optimization","title":"Tableau Optimization","text":"<p>Extract Optimization:</p> <pre><code>-- Create optimized view for Tableau extract\nCREATE VIEW tableau_sales_extract AS\nSELECT \n    sale_date,\n    region,\n    product_id,\n    customer_id,\n    quantity,\n    amount\nFROM sales\nWHERE sale_date &gt;= DATEADD(year, -2, CURRENT_DATE());\n</code></pre> <p>Initial SQL for Performance:</p> <pre><code>-- Set session parameters for Tableau\nALTER SESSION SET STATEMENT_TIMEOUT_IN_SECONDS = 3600;\nUSE WAREHOUSE tableau_wh;\nUSE ROLE tableau_analyst;\n</code></pre> <p>Best Practices:</p> <ol> <li>Use extracts for complex visualizations</li> <li>Filter data at source level</li> <li>Limit dimensions in views</li> <li>Avoid table calculations on large datasets</li> <li>Use Tableau's performance recorder</li> </ol>"},{"location":"best-practices/performance/#power-bi-optimization","title":"Power BI Optimization","text":"<p>Query Folding:</p> <p>Ensure transformations push to Snowflake:</p> <pre><code>// Good: Folds to Snowflake\nlet\n    Source = Snowflake.Databases(\"account.snowflakecomputing.com\", \"WAREHOUSE\"),\n    DB = Source{[Name=\"ANALYTICS\"]}[Data],\n    Schema = DB{[Name=\"PUBLIC\"]}[Data],\n    Table = Schema{[Name=\"SALES\"]}[Data],\n    Filtered = Table.SelectRows(Table, each [SALE_DATE] &gt; #date(2024, 1, 1))\nin\n    Filtered\n</code></pre> <p>DirectQuery Settings:</p> <ol> <li>Enable Query reduction in options</li> <li>Use Aggregations for large tables</li> <li>Limit visuals per page</li> <li>Avoid bi-directional relationships</li> </ol>"},{"location":"best-practices/performance/#excel-optimization","title":"Excel Optimization","text":"<p>Efficient Queries:</p> <pre><code>-- Use SQL query instead of loading entire table\nSELECT \n    region,\n    product,\n    SUM(sales) as total_sales\nFROM sales\nWHERE year = 2024\nGROUP BY region, product\nORDER BY total_sales DESC\nLIMIT 1000;\n</code></pre>"},{"location":"best-practices/performance/#query-design","title":"Query Design","text":""},{"location":"best-practices/performance/#efficient-sql-patterns","title":"Efficient SQL Patterns","text":"<p>Select Only Needed Columns:</p> <pre><code>-- Bad: SELECT *\nSELECT * FROM customers;\n\n-- Good: Select specific columns\nSELECT customer_id, name, email FROM customers;\n</code></pre> <p>Filter Early:</p> <pre><code>-- Bad: Filter after join\nSELECT * FROM orders o\nJOIN customers c ON o.customer_id = c.id\nWHERE o.order_date &gt; '2024-01-01';\n\n-- Good: Filter before join (if applicable)\nWITH recent_orders AS (\n    SELECT * FROM orders WHERE order_date &gt; '2024-01-01'\n)\nSELECT * FROM recent_orders o\nJOIN customers c ON o.customer_id = c.id;\n</code></pre> <p>Use Appropriate Aggregations:</p> <pre><code>-- Aggregate before joining when possible\nWITH order_summary AS (\n    SELECT customer_id, SUM(amount) as total\n    FROM orders\n    GROUP BY customer_id\n)\nSELECT c.name, os.total\nFROM customers c\nJOIN order_summary os ON c.id = os.customer_id;\n</code></pre>"},{"location":"best-practices/performance/#create-optimized-views","title":"Create Optimized Views","text":"<pre><code>-- Create view for BI tools with common filters\nCREATE VIEW bi_sales_summary AS\nSELECT \n    DATE_TRUNC('day', sale_date) as sale_day,\n    region,\n    product_category,\n    SUM(quantity) as units_sold,\n    SUM(amount) as revenue,\n    COUNT(DISTINCT customer_id) as unique_customers\nFROM sales\nWHERE sale_date &gt;= DATEADD(year, -2, CURRENT_DATE())\nGROUP BY 1, 2, 3;\n\n-- Create secure view for row-level security\nCREATE SECURE VIEW bi_sales_by_region AS\nSELECT * FROM bi_sales_summary\nWHERE region IN (SELECT allowed_region FROM user_access WHERE user_email = CURRENT_USER());\n</code></pre>"},{"location":"best-practices/performance/#monitoring-performance","title":"Monitoring Performance","text":""},{"location":"best-practices/performance/#query-performance-dashboard","title":"Query Performance Dashboard","text":"<pre><code>-- Top slow queries\nSELECT \n    QUERY_ID,\n    USER_NAME,\n    WAREHOUSE_NAME,\n    EXECUTION_TIME / 1000 as exec_seconds,\n    BYTES_SCANNED / 1e9 as gb_scanned,\n    QUERY_TEXT\nFROM SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY\nWHERE START_TIME &gt; DATEADD(day, -1, CURRENT_TIMESTAMP())\n    AND EXECUTION_TIME &gt; 30000  -- Over 30 seconds\nORDER BY EXECUTION_TIME DESC\nLIMIT 20;\n\n-- Warehouse utilization\nSELECT \n    WAREHOUSE_NAME,\n    DATE_TRUNC('hour', START_TIME) as hour,\n    AVG(AVG_RUNNING) as avg_concurrent_queries,\n    MAX(QUEUED_LOAD) as max_queued\nFROM SNOWFLAKE.ACCOUNT_USAGE.WAREHOUSE_LOAD_HISTORY\nWHERE START_TIME &gt; DATEADD(day, -7, CURRENT_TIMESTAMP())\nGROUP BY 1, 2\nORDER BY 1, 2;\n</code></pre>"},{"location":"best-practices/performance/#query-profiler","title":"Query Profiler","text":"<p>Use Snowflake's query profiler for optimization:</p> <pre><code>-- View query profile\nSELECT * FROM TABLE(GET_QUERY_OPERATOR_STATS(LAST_QUERY_ID()));\n\n-- Analyze specific query\nSELECT * FROM TABLE(GET_QUERY_OPERATOR_STATS('01abc123-...'));\n</code></pre>"},{"location":"best-practices/performance/#performance-checklist","title":"Performance Checklist","text":""},{"location":"best-practices/performance/#snowflake-setup","title":"Snowflake Setup","text":"<ul> <li> Appropriate warehouse size selected</li> <li> Auto-suspend configured (5-10 minutes)</li> <li> Result caching enabled</li> <li> Clustering keys on large tables</li> <li> Materialized views for common aggregations</li> </ul>"},{"location":"best-practices/performance/#bi-tool-configuration","title":"BI Tool Configuration","text":"<ul> <li> Correct connection mode (Import vs DirectQuery)</li> <li> Query optimization enabled</li> <li> Appropriate refresh schedules</li> <li> Limited visuals per dashboard</li> </ul>"},{"location":"best-practices/performance/#query-design_1","title":"Query Design","text":"<ul> <li> Select only needed columns</li> <li> Filter at source level</li> <li> Pre-aggregate when possible</li> <li> Optimize joins</li> <li> Test and profile queries</li> </ul>"},{"location":"best-practices/performance/#common-performance-issues","title":"Common Performance Issues","text":"Queries are slow <p>Solutions:</p> <ol> <li>Scale up warehouse size</li> <li>Check clustering on filtered columns</li> <li>Review query profile for bottlenecks</li> <li>Use materialized views</li> <li>Add filters to reduce data scanned</li> </ol> Dashboard takes long to load <p>Solutions:</p> <ol> <li>Switch to Import/Extract mode</li> <li>Reduce visuals per page</li> <li>Pre-aggregate data in Snowflake</li> <li>Use incremental refresh</li> <li>Check warehouse isn't suspended</li> </ol> Warehouse queuing queries <p>Solutions:</p> <ol> <li>Enable multi-cluster warehouse</li> <li>Separate warehouses by workload</li> <li>Schedule heavy queries off-peak</li> <li>Increase warehouse size</li> <li>Optimize slow queries</li> </ol> High Snowflake costs <p>Solutions:</p> <ol> <li>Review warehouse auto-suspend settings</li> <li>Use smaller warehouse for simple queries</li> <li>Schedule extracts during off-peak</li> <li>Optimize expensive queries</li> <li>Use result caching effectively</li> </ol>"},{"location":"best-practices/performance/#quick-reference","title":"Quick Reference","text":""},{"location":"best-practices/performance/#warehouse-sizing-guide","title":"Warehouse Sizing Guide","text":"Concurrent Users Light Queries Heavy Queries 1-5 X-Small/Small Medium 5-20 Small/Medium Large 20-50 Medium/Large X-Large 50+ Multi-cluster Multi-cluster"},{"location":"best-practices/performance/#key-sql-commands","title":"Key SQL Commands","text":"<pre><code>-- Suspend/resume warehouse\nALTER WAREHOUSE bi_wh SUSPEND;\nALTER WAREHOUSE bi_wh RESUME;\n\n-- Scale warehouse\nALTER WAREHOUSE bi_wh SET WAREHOUSE_SIZE = 'LARGE';\n\n-- Check current warehouse\nSELECT CURRENT_WAREHOUSE();\n\n-- View query history\nSELECT * FROM SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY\nWHERE START_TIME &gt; DATEADD(hour, -1, CURRENT_TIMESTAMP())\nORDER BY START_TIME DESC;\n</code></pre>"},{"location":"best-practices/performance/#next-steps","title":"Next Steps","text":"<ul> <li>Security Best Practices \u2014 Secure configuration</li> <li>Troubleshooting \u2014 Common issues</li> <li>Tableau Guide \u2014 Tool-specific optimization</li> </ul>"},{"location":"best-practices/security/","title":"Security","text":""},{"location":"best-practices/security/#security-best-practices","title":"Security Best Practices","text":""},{"location":"best-practices/security/#secure-your-snowflake-connections","title":"Secure Your Snowflake Connections","text":"<p>Essential security practices for BI tool authentication</p>"},{"location":"best-practices/security/#security-principles","title":"Security Principles","text":""},{"location":"best-practices/security/#defense-in-depth","title":"Defense in Depth","text":"<p>Apply multiple layers of security:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  Network Layer                   \u2502\n\u2502  \u2022 Firewall rules  \u2022 VPN  \u2022 Private Link         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502               Authentication Layer               \u2502\n\u2502  \u2022 OAuth/SSO  \u2022 MFA  \u2022 Key-Pair                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502               Authorization Layer                \u2502\n\u2502  \u2022 RBAC  \u2022 Row-Level Security  \u2022 Masking        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                  Data Layer                      \u2502\n\u2502  \u2022 Encryption  \u2022 Audit Logging  \u2022 Classification\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"best-practices/security/#principle-of-least-privilege","title":"Principle of Least Privilege","text":"<p>Grant only the minimum permissions required:</p> <pre><code>-- Create specific role for BI users\nCREATE ROLE bi_analyst_role;\n\n-- Grant only necessary permissions\nGRANT USAGE ON WAREHOUSE bi_wh TO ROLE bi_analyst_role;\nGRANT USAGE ON DATABASE analytics TO ROLE bi_analyst_role;\nGRANT USAGE ON SCHEMA analytics.reporting TO ROLE bi_analyst_role;\nGRANT SELECT ON ALL TABLES IN SCHEMA analytics.reporting TO ROLE bi_analyst_role;\n\n-- Assign to users\nGRANT ROLE bi_analyst_role TO USER john_doe;\n</code></pre>"},{"location":"best-practices/security/#authentication-recommendations","title":"Authentication Recommendations","text":""},{"location":"best-practices/security/#authentication-method-selection","title":"Authentication Method Selection","text":"Environment Recommended Method Why Development Username/Password Simplicity for testing Production - Users OAuth/SSO Enterprise security, MFA Production - Service Key-Pair Automation, no passwords Highly Regulated Key-Pair + Network Policy Maximum security"},{"location":"best-practices/security/#oauthsso-configuration","title":"OAuth/SSO Configuration","text":"<p>Recommended for Enterprise</p> <p>Best Practices:</p> <ol> <li>Enforce MFA at the identity provider level</li> <li>Set reasonable token expiry (7-30 days)</li> <li>Implement conditional access policies</li> <li>Regular access reviews</li> </ol> <pre><code>-- Configure OAuth with appropriate token lifetime\nCREATE OR REPLACE SECURITY INTEGRATION corporate_sso\n    TYPE = EXTERNAL_OAUTH\n    ENABLED = TRUE\n    EXTERNAL_OAUTH_TYPE = OKTA\n    -- ... other settings ...\n    EXTERNAL_OAUTH_TOKEN_USER_MAPPING_CLAIM = 'sub';\n\n-- View current settings\nDESCRIBE SECURITY INTEGRATION corporate_sso;\n</code></pre>"},{"location":"best-practices/security/#key-pair-authentication","title":"Key-Pair Authentication","text":"<p>Recommended for Automation</p> <p>Key Management Best Practices:</p> Practice Implementation Encrypt private keys Use passphrase-protected PKCS#8 Restrict file permissions <code>chmod 600</code> on Unix systems Rotate keys regularly Every 90-180 days Use secrets management HashiCorp Vault, AWS Secrets Manager Separate keys per service One key pair per application <pre><code>-- Support key rotation with two keys\nALTER USER service_account SET RSA_PUBLIC_KEY = 'current_key...';\nALTER USER service_account SET RSA_PUBLIC_KEY_2 = 'new_key...';\n\n-- After migration, remove old key\nALTER USER service_account UNSET RSA_PUBLIC_KEY_2;\n</code></pre>"},{"location":"best-practices/security/#password-policy-if-required","title":"Password Policy (If Required)","text":"<pre><code>-- Configure strong password policy\nALTER ACCOUNT SET \n    PASSWORD_MIN_LENGTH = 14,\n    PASSWORD_MAX_AGE_DAYS = 90,\n    PASSWORD_HISTORY = 5,\n    PASSWORD_LOCK_AFTER_NUM_TRIES = 5,\n    PASSWORD_UNLOCK_AFTER_MIN = 30;\n</code></pre>"},{"location":"best-practices/security/#network-security","title":"Network Security","text":""},{"location":"best-practices/security/#network-policies","title":"Network Policies","text":"<p>Restrict access to known IP ranges:</p> <pre><code>-- Create network policy for office locations\nCREATE NETWORK POLICY corporate_network\n    ALLOWED_IP_LIST = (\n        '203.0.113.0/24',     -- Main office\n        '198.51.100.0/24',    -- Branch office\n        '192.0.2.0/24'        -- VPN range\n    );\n\n-- Apply globally or per user\nALTER ACCOUNT SET NETWORK_POLICY = corporate_network;\n-- Or\nALTER USER analyst_user SET NETWORK_POLICY = corporate_network;\n</code></pre>"},{"location":"best-practices/security/#private-link-private-connectivity","title":"Private Link / Private Connectivity","text":"<p>For maximum security, use private endpoints:</p> Cloud Service AWS AWS PrivateLink Azure Azure Private Link GCP Private Service Connect <p>Benefits:</p> <ul> <li>Traffic stays on private network</li> <li>No internet exposure</li> <li>Additional compliance capabilities</li> </ul>"},{"location":"best-practices/security/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":""},{"location":"best-practices/security/#role-hierarchy-design","title":"Role Hierarchy Design","text":"<pre><code>-- Create role hierarchy\nCREATE ROLE bi_admin;\nCREATE ROLE bi_analyst;\nCREATE ROLE bi_viewer;\n\n-- Set up hierarchy\nGRANT ROLE bi_viewer TO ROLE bi_analyst;\nGRANT ROLE bi_analyst TO ROLE bi_admin;\n\n-- Assign permissions\nGRANT SELECT ON ALL TABLES IN SCHEMA reporting TO ROLE bi_viewer;\nGRANT SELECT, INSERT ON ALL TABLES IN SCHEMA reporting TO ROLE bi_analyst;\nGRANT ALL ON SCHEMA reporting TO ROLE bi_admin;\n</code></pre>"},{"location":"best-practices/security/#functional-roles-example","title":"Functional Roles Example","text":"<pre><code>-- Sales team roles\nCREATE ROLE sales_viewer;\nCREATE ROLE sales_analyst;\n\n-- Marketing team roles  \nCREATE ROLE marketing_viewer;\nCREATE ROLE marketing_analyst;\n\n-- Grant warehouse access\nGRANT USAGE ON WAREHOUSE bi_wh TO ROLE sales_viewer;\nGRANT USAGE ON WAREHOUSE bi_wh TO ROLE marketing_viewer;\n\n-- Grant data access based on function\nGRANT SELECT ON TABLE sales_data TO ROLE sales_viewer;\nGRANT SELECT ON TABLE marketing_campaigns TO ROLE marketing_viewer;\n</code></pre>"},{"location":"best-practices/security/#data-protection","title":"Data Protection","text":""},{"location":"best-practices/security/#row-level-security","title":"Row-Level Security","text":"<p>Control data access at row level:</p> <pre><code>-- Create mapping table\nCREATE TABLE user_region_access (\n    user_email VARCHAR,\n    allowed_region VARCHAR\n);\n\n-- Create secure view with RLS\nCREATE SECURE VIEW sales_by_region AS\nSELECT *\nFROM sales\nWHERE region IN (\n    SELECT allowed_region \n    FROM user_region_access \n    WHERE user_email = CURRENT_USER()\n);\n\n-- Grant access to view, not base table\nGRANT SELECT ON sales_by_region TO ROLE sales_analyst;\n</code></pre>"},{"location":"best-practices/security/#dynamic-data-masking","title":"Dynamic Data Masking","text":"<p>Protect sensitive data:</p> <pre><code>-- Create masking policy\nCREATE MASKING POLICY email_mask AS (val STRING) \nRETURNS STRING -&gt;\n    CASE\n        WHEN CURRENT_ROLE() IN ('ADMIN', 'DATA_STEWARD') THEN val\n        ELSE REGEXP_REPLACE(val, '.+@', '****@')\n    END;\n\n-- Apply to column\nALTER TABLE customers MODIFY COLUMN email \n    SET MASKING POLICY email_mask;\n</code></pre>"},{"location":"best-practices/security/#audit-and-monitoring","title":"Audit and Monitoring","text":""},{"location":"best-practices/security/#enable-access-logging","title":"Enable Access Logging","text":"<p>Monitor who accesses what:</p> <pre><code>-- Query login history\nSELECT \n    EVENT_TIMESTAMP,\n    USER_NAME,\n    CLIENT_IP,\n    FIRST_AUTHENTICATION_FACTOR,\n    SECOND_AUTHENTICATION_FACTOR,\n    IS_SUCCESS,\n    ERROR_MESSAGE\nFROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE EVENT_TIMESTAMP &gt; DATEADD(day, -7, CURRENT_TIMESTAMP())\nORDER BY EVENT_TIMESTAMP DESC;\n</code></pre>"},{"location":"best-practices/security/#track-query-activity","title":"Track Query Activity","text":"<pre><code>-- Monitor query activity\nSELECT \n    QUERY_ID,\n    USER_NAME,\n    ROLE_NAME,\n    DATABASE_NAME,\n    QUERY_TYPE,\n    EXECUTION_STATUS,\n    TOTAL_ELAPSED_TIME\nFROM SNOWFLAKE.ACCOUNT_USAGE.QUERY_HISTORY\nWHERE START_TIME &gt; DATEADD(day, -1, CURRENT_TIMESTAMP())\n    AND QUERY_TYPE = 'SELECT'\nORDER BY START_TIME DESC\nLIMIT 100;\n</code></pre>"},{"location":"best-practices/security/#create-monitoring-views","title":"Create Monitoring Views","text":"<pre><code>-- Failed login attempts\nCREATE VIEW security_failed_logins AS\nSELECT \n    EVENT_TIMESTAMP,\n    USER_NAME,\n    CLIENT_IP,\n    ERROR_MESSAGE\nFROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE IS_SUCCESS = 'NO'\n    AND EVENT_TIMESTAMP &gt; DATEADD(hour, -24, CURRENT_TIMESTAMP());\n\n-- OAuth token usage\nCREATE VIEW security_oauth_activity AS\nSELECT \n    EVENT_TIMESTAMP,\n    USER_NAME,\n    FIRST_AUTHENTICATION_FACTOR,\n    CLIENT_IP\nFROM SNOWFLAKE.ACCOUNT_USAGE.LOGIN_HISTORY\nWHERE FIRST_AUTHENTICATION_FACTOR = 'OAUTH_ACCESS_TOKEN'\n    AND EVENT_TIMESTAMP &gt; DATEADD(day, -7, CURRENT_TIMESTAMP());\n</code></pre>"},{"location":"best-practices/security/#bi-tool-specific-security","title":"BI Tool-Specific Security","text":""},{"location":"best-practices/security/#tableau","title":"Tableau","text":"Setting Recommendation Embedded Credentials Avoid in production OAuth Enable for Tableau Server Extract Security Encrypt extracts Row-Level Security Implement in Snowflake"},{"location":"best-practices/security/#power-bi","title":"Power BI","text":"Setting Recommendation SSO Enable Azure AD SSO DirectQuery Use for RLS enforcement Data Gateway Secure configuration Tenant Settings Review admin portal"},{"location":"best-practices/security/#excel","title":"Excel","text":"Setting Recommendation Credentials Don't save in file Key-Pair Use for service accounts Workbook Protection Enable for shared files Connection Files Secure <code>.odc</code> files"},{"location":"best-practices/security/#security-checklist","title":"Security Checklist","text":""},{"location":"best-practices/security/#initial-setup","title":"Initial Setup","text":"<ul> <li> Choose appropriate authentication method</li> <li> Configure network policy</li> <li> Create role hierarchy</li> <li> Set up audit logging</li> <li> Document access policies</li> </ul>"},{"location":"best-practices/security/#ongoing-operations","title":"Ongoing Operations","text":"<ul> <li> Regular access reviews (quarterly)</li> <li> Key rotation (every 90-180 days)</li> <li> Monitor failed logins</li> <li> Review query patterns</li> <li> Update network policies as needed</li> </ul>"},{"location":"best-practices/security/#incident-response","title":"Incident Response","text":"<ul> <li> Disable compromised accounts immediately</li> <li> Rotate exposed keys</li> <li> Review audit logs</li> <li> Update network policies</li> <li> Document and remediate</li> </ul>"},{"location":"best-practices/security/#common-security-mistakes","title":"Common Security Mistakes","text":"<p>Avoid These Practices</p> <ol> <li>Sharing service account credentials \u2014 Use individual accounts</li> <li>Storing passwords in code \u2014 Use environment variables or secrets managers</li> <li>Overly permissive roles \u2014 Follow least privilege</li> <li>Ignoring audit logs \u2014 Set up regular monitoring</li> <li>No network restrictions \u2014 Implement network policies</li> <li>Infrequent key rotation \u2014 Rotate every 90-180 days</li> <li>Using ACCOUNTADMIN for BI \u2014 Create appropriate roles</li> </ol>"},{"location":"best-practices/security/#quick-reference","title":"Quick Reference","text":""},{"location":"best-practices/security/#security-integration-commands","title":"Security Integration Commands","text":"<pre><code>-- List all security integrations\nSHOW SECURITY INTEGRATIONS;\n\n-- Describe specific integration\nDESCRIBE SECURITY INTEGRATION my_oauth;\n\n-- Alter integration\nALTER SECURITY INTEGRATION my_oauth SET ENABLED = FALSE;\n\n-- Drop integration\nDROP SECURITY INTEGRATION my_oauth;\n</code></pre>"},{"location":"best-practices/security/#user-management-commands","title":"User Management Commands","text":"<pre><code>-- Create user with best practices\nCREATE USER new_user\n    PASSWORD = 'InitialPassword123!'\n    MUST_CHANGE_PASSWORD = TRUE\n    DEFAULT_ROLE = analyst_role\n    DEFAULT_WAREHOUSE = bi_wh;\n\n-- Disable user\nALTER USER compromised_user SET DISABLED = TRUE;\n\n-- Force password change\nALTER USER user_name SET MUST_CHANGE_PASSWORD = TRUE;\n</code></pre>"},{"location":"best-practices/security/#next-steps","title":"Next Steps","text":"<ul> <li>Performance Best Practices \u2014 Optimize queries</li> <li>Troubleshooting \u2014 Common issues</li> <li>Authentication Overview \u2014 Method comparison</li> </ul>"},{"location":"bi-tools/excel/","title":"Excel","text":""},{"location":"bi-tools/excel/#excel-connection-guide","title":"Excel Connection Guide","text":""},{"location":"bi-tools/excel/#connect-excel-to-snowflake","title":"Connect Excel to Snowflake","text":"<p>Access Snowflake data directly in Excel via ODBC on Windows and macOS</p>"},{"location":"bi-tools/excel/#overview","title":"Overview","text":"<p>Excel connects to Snowflake through ODBC (Open Database Connectivity), allowing you to:</p> <ul> <li>Pull data directly into spreadsheets</li> <li>Create PivotTables from Snowflake data</li> <li>Build reports with live data connections</li> <li>Use Power Query for data transformation</li> </ul>"},{"location":"bi-tools/excel/#platform-comparison","title":"Platform Comparison","text":"Feature Windows macOS ODBC Connection  Full  Full Power Query  Full  Limited Pivot Tables  Full  Full Refresh Data  Full  Full OAuth Support  No  No Key-Pair Auth  Via ODBC  Via ODBC <p>No OAuth Support</p> <p>Excel ODBC connections do not support OAuth. Use Username/Password or Key-Pair authentication.</p>"},{"location":"bi-tools/excel/#prerequisites","title":"Prerequisites","text":""},{"location":"bi-tools/excel/#install-snowflake-odbc-driver","title":"Install Snowflake ODBC Driver","text":"WindowsmacOS <ol> <li>Download from Snowflake ODBC Downloads</li> <li>Choose 64-bit version (matching your Excel)</li> <li>Run the installer (<code>snowflake_odbc_win64.msi</code>)</li> <li>Complete the installation wizard</li> </ol> <p>Verify Installation:</p> <ol> <li>Open ODBC Data Source Administrator (64-bit)</li> <li>Press <code>Win + R</code>, type <code>odbcad32.exe</code></li> <li>Go to Drivers tab</li> <li>Confirm SnowflakeDSIIDriver is listed</li> </ol> <ol> <li>Download from Snowflake ODBC Downloads</li> <li>Choose the <code>.pkg</code> installer</li> <li>Open and follow installation prompts</li> <li>Driver installs to <code>/opt/snowflake/snowflakeodbc/</code></li> </ol> <p>Verify Installation:</p> <pre><code># Check driver exists\nls /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\n</code></pre> <p>Install iODBC Driver Manager:</p> <pre><code># Via Homebrew\nbrew install libiodbc\n</code></pre>"},{"location":"bi-tools/excel/#windows-configuration","title":"Windows Configuration","text":""},{"location":"bi-tools/excel/#method-1-create-odbc-data-source-dsn","title":"Method 1: Create ODBC Data Source (DSN)","text":"<p>Step 1: Open ODBC Administrator</p> <ol> <li>Press <code>Win + R</code></li> <li>Type <code>odbcad32.exe</code> \u2192 Enter</li> <li>Select User DSN or System DSN tab</li> </ol> <p>Step 2: Create New Data Source</p> <ol> <li>Click Add</li> <li>Select SnowflakeDSIIDriver \u2192 Finish</li> <li>Configure the connection:</li> </ol> Field Value Required Data Source <code>Snowflake_Analytics</code> Yes Server <code>account.snowflakecomputing.com</code> Yes Database <code>ANALYTICS</code> Optional Schema <code>PUBLIC</code> Optional Warehouse <code>COMPUTE_WH</code> Optional Role <code>ANALYST_ROLE</code> Optional Authenticator (leave blank for password) Optional <ol> <li>Click Test to verify connection</li> <li>Click OK to save</li> </ol> <p>Step 3: Connect from Excel</p> <ol> <li>Open Excel</li> <li>Go to Data \u2192 Get Data \u2192 From Other Sources \u2192 From ODBC</li> <li>Select your DSN from dropdown</li> <li>Click OK</li> <li>Enter Username and Password</li> <li>Select tables/views \u2192 Load</li> </ol>"},{"location":"bi-tools/excel/#method-2-connection-string-dsn-less","title":"Method 2: Connection String (DSN-less)","text":"<p>Connect without pre-configured DSN:</p> <ol> <li>Data \u2192 Get Data \u2192 From Other Sources \u2192 From ODBC</li> <li>Choose Advanced options</li> <li>Enter connection string:</li> </ol> <pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.snowflakecomputing.com;\nDatabase=ANALYTICS;\nSchema=PUBLIC;\nWarehouse=COMPUTE_WH;\nUID=your_username;\nPWD=your_password;\n</code></pre>"},{"location":"bi-tools/excel/#macos-configuration","title":"macOS Configuration","text":""},{"location":"bi-tools/excel/#step-1-configure-odbc-files","title":"Step 1: Configure ODBC Files","text":"<p>Create or edit <code>~/.odbc.ini</code>:</p> <pre><code>[Snowflake]\nDescription = Snowflake Analytics Connection\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\nServer = account.snowflakecomputing.com\nDatabase = ANALYTICS\nSchema = PUBLIC\nWarehouse = COMPUTE_WH\nRole = ANALYST_ROLE\n</code></pre> <p>Create or edit <code>~/.odbcinst.ini</code>:</p> <pre><code>[Snowflake]\nDescription = Snowflake ODBC Driver\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\n</code></pre>"},{"location":"bi-tools/excel/#step-2-connect-from-excel-for-mac","title":"Step 2: Connect from Excel for Mac","text":"<ol> <li>Open Excel</li> <li>Go to Data \u2192 Get Data (Power Query) \u2192 From Database \u2192 From ODBC</li> <li>Enter connection string:</li> </ol> <pre><code>DSN=Snowflake;UID=your_username;PWD=your_password\n</code></pre> <ol> <li>Click OK</li> <li>Select data and click Load</li> </ol> <p>macOS Excel Limitations</p> <p>Excel for Mac has limited Power Query support compared to Windows. For complex transformations, consider:</p> <ul> <li>Using Windows Excel via VM</li> <li>Using Tableau (native Mac support)</li> <li>Exporting data from Snowflake directly</li> </ul>"},{"location":"bi-tools/excel/#authentication-methods","title":"Authentication Methods","text":"Username &amp; PasswordKey-Pair AuthenticationSSO (Browser-Based)"},{"location":"bi-tools/excel/#basic-authentication","title":"Basic Authentication","text":"<p>Basic Security</p> <p>DSN Configuration:</p> <p>Leave <code>Authenticator</code> field blank in DSN setup.</p> <p>Connection String:</p> <pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.snowflakecomputing.com;\nDatabase=ANALYTICS;\nUID=your_username;\nPWD=your_password;\n</code></pre> <p></p> <p></p>"},{"location":"bi-tools/excel/#pros","title":"Pros","text":"<ul> <li>Simple setup</li> <li>Works on all platforms</li> <li>Familiar workflow </li></ul>"},{"location":"bi-tools/excel/#cons","title":"Cons","text":"<ul> <li>Password stored in connection</li> <li>Less secure</li> <li>MFA not supported </li></ul>"},{"location":"bi-tools/excel/#key-pair-jwt-authentication","title":"Key-Pair (JWT) Authentication","text":"<p>High Security</p> <p>For secure, password-less connections.</p> <p>Prerequisites:</p> <ul> <li>RSA key pair generated (see guide)</li> <li>Public key registered in Snowflake</li> </ul> <p>DSN Configuration:</p> Field Value Authenticator <code>SNOWFLAKE_JWT</code> Private Key File Path to <code>.p8</code> file Private Key Password Passphrase (if encrypted) <p>Connection String:</p> <pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.snowflakecomputing.com;\nDatabase=ANALYTICS;\nUID=your_username;\nAUTHENTICATOR=SNOWFLAKE_JWT;\nPRIV_KEY_FILE=C:\\path\\to\\rsa_key.p8;\nPRIV_KEY_FILE_PWD=your_passphrase;\n</code></pre> <p></p> <p></p>"},{"location":"bi-tools/excel/#pros_1","title":"Pros","text":"<ul> <li>No password stored</li> <li>Strongest security</li> <li>Good for automation </li></ul>"},{"location":"bi-tools/excel/#cons_1","title":"Cons","text":"<ul> <li>Complex setup</li> <li>Key management needed</li> <li>Technical expertise required </li></ul>"},{"location":"bi-tools/excel/#external-browser-sso","title":"External Browser SSO","text":"<p>Medium Security</p> <p>Opens browser for IdP authentication.</p> <p>Connection String:</p> <pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.snowflakecomputing.com;\nDatabase=ANALYTICS;\nUID=your_username;\nAUTHENTICATOR=externalbrowser;\n</code></pre> <p>Limitations</p> <p>Browser-based auth requires user interaction and may not work well for:</p> <ul> <li>Scheduled refreshes</li> <li>Background data updates</li> <li>Automated processes</li> </ul>"},{"location":"bi-tools/excel/#power-query-integration-windows","title":"Power Query Integration (Windows)","text":"<p>Power Query provides advanced data transformation capabilities.</p>"},{"location":"bi-tools/excel/#connect-via-power-query","title":"Connect via Power Query","text":"<ol> <li>Data \u2192 Get Data \u2192 From Other Sources \u2192 From ODBC</li> <li>Select your DSN</li> <li>Click Transform Data (instead of Load)</li> <li>Power Query Editor opens</li> </ol>"},{"location":"bi-tools/excel/#common-transformations","title":"Common Transformations","text":"<pre><code>// Example: Filter and transform Snowflake data\nlet\n    Source = Odbc.DataSource(\"DSN=Snowflake\", [HierarchicalNavigation=true]),\n    Analytics = Source{[Name=\"ANALYTICS\"]}[Data],\n    PUBLIC = Analytics{[Name=\"PUBLIC\"]}[Data],\n    Sales = PUBLIC{[Name=\"SALES\"]}[Data],\n\n    // Filter recent data\n    FilteredRows = Table.SelectRows(Sales, each [ORDER_DATE] &gt; #date(2024, 1, 1)),\n\n    // Add calculated column\n    AddedColumn = Table.AddColumn(FilteredRows, \"Revenue\", each [QUANTITY] * [UNIT_PRICE])\nin\n    AddedColumn\n</code></pre>"},{"location":"bi-tools/excel/#query-folding","title":"Query Folding","text":"<p>For best performance, ensure transformations \"fold\" to Snowflake:</p> <pre><code>// Good: Folds to Snowflake (SQL executed on server)\n= Table.SelectRows(Source, each [Region] = \"North America\")\n\n// Check folding: Right-click step \u2192 \"View Native Query\"\n// If available, the step folds to Snowflake SQL\n</code></pre>"},{"location":"bi-tools/excel/#refreshing-data","title":"Refreshing Data","text":""},{"location":"bi-tools/excel/#manual-refresh","title":"Manual Refresh","text":"<ol> <li>Click on the data table</li> <li>Go to Data \u2192 Refresh All (or <code>Ctrl + Alt + F5</code>)</li> </ol>"},{"location":"bi-tools/excel/#automatic-refresh","title":"Automatic Refresh","text":"<p>Power Query connections can be set to refresh:</p> <ol> <li>Data \u2192 Queries &amp; Connections</li> <li>Right-click connection \u2192 Properties</li> <li>Configure:</li> <li>Refresh every X minutes</li> <li>Refresh when file opens</li> <li>Background refresh</li> </ol> <p>Credentials and Refresh</p> <p>Automatic refresh requires saved credentials. For Key-Pair auth, the private key path must be accessible.</p>"},{"location":"bi-tools/excel/#performance-tips","title":"Performance Tips","text":""},{"location":"bi-tools/excel/#optimize-snowflake-queries","title":"Optimize Snowflake Queries","text":"<pre><code>-- Create views for common Excel reports\nCREATE VIEW excel_sales_summary AS\nSELECT \n    DATE_TRUNC('month', order_date) as month,\n    region,\n    SUM(amount) as total_sales\nFROM sales\nWHERE order_date &gt;= DATEADD(year, -1, CURRENT_DATE())\nGROUP BY 1, 2;\n</code></pre>"},{"location":"bi-tools/excel/#excel-best-practices","title":"Excel Best Practices","text":"<ol> <li>Limit Data Volume</li> <li>Use filters in Power Query</li> <li>Select only needed columns</li> <li> <p>Avoid <code>SELECT *</code></p> </li> <li> <p>Use Native SQL </p><pre><code>-- Write efficient SQL in Power Query\n= Odbc.Query(\"DSN=Snowflake\", \"SELECT * FROM sales WHERE date &gt; '2024-01-01' LIMIT 100000\")\n</code></pre><p></p> </li> <li> <p>Cache Results</p> </li> <li>For static data, save as Excel table</li> <li>Refresh only when needed</li> </ol>"},{"location":"bi-tools/excel/#common-use-cases","title":"Common Use Cases","text":""},{"location":"bi-tools/excel/#pivottable-from-snowflake","title":"PivotTable from Snowflake","text":"<ol> <li>Insert \u2192 PivotTable</li> <li>Choose From External Data Source</li> <li>Select your ODBC connection</li> <li>Write SQL query or select table</li> <li>Build PivotTable as usual</li> </ol>"},{"location":"bi-tools/excel/#parameterized-queries","title":"Parameterized Queries","text":"<p>Create dynamic queries with Excel cell references:</p> <pre><code>// In Power Query, reference Excel named range\nlet\n    DateParam = Excel.CurrentWorkbook(){[Name=\"StartDate\"]}[Content]{0}[Column1],\n    Source = Odbc.Query(\"DSN=Snowflake\", \n        \"SELECT * FROM sales WHERE order_date &gt;= '\" &amp; Text.From(DateParam) &amp; \"'\")\nin\n    Source\n</code></pre>"},{"location":"bi-tools/excel/#troubleshooting","title":"Troubleshooting","text":"Error: ODBC driver not found <p>Solutions:</p> <ol> <li>Verify driver installation</li> <li>Match Excel bit version (32/64) with driver</li> <li>Reinstall Snowflake ODBC driver</li> <li>Check ODBC Administrator for driver listing</li> </ol> Error: Connection failed <p>Solutions:</p> <ol> <li>Test DSN in ODBC Administrator</li> <li>Verify server URL format</li> <li>Check network/firewall</li> <li>Verify credentials work in Snowflake UI</li> </ol> Error: Data too large <p>Solutions:</p> <ol> <li>Add WHERE clause to limit data</li> <li>Use aggregations in SQL</li> <li>Create summary views in Snowflake</li> <li>Increase Excel memory allocation</li> </ol> macOS: Excel not finding driver <p>Solutions:</p> <ol> <li>Verify <code>~/.odbc.ini</code> exists</li> <li>Check driver path in odbcinst.ini</li> <li>Ensure iODBC is installed</li> <li>Verify file permissions</li> </ol> Refresh fails with stored credentials <p>Solutions:</p> <ol> <li>Re-enter credentials in Data Source Settings</li> <li>Check key file path for Key-Pair auth</li> <li>Verify Snowflake user not locked</li> <li>Test connection manually first</li> </ol>"},{"location":"bi-tools/excel/#quick-reference","title":"Quick Reference","text":""},{"location":"bi-tools/excel/#odbc-connection-string-parameters","title":"ODBC Connection String Parameters","text":"Parameter Description Example <code>Driver</code> ODBC driver name <code>{SnowflakeDSIIDriver}</code> <code>Server</code> Snowflake account URL <code>account.snowflakecomputing.com</code> <code>UID</code> Username <code>john_doe</code> <code>PWD</code> Password <code>secret123</code> <code>Database</code> Default database <code>ANALYTICS</code> <code>Schema</code> Default schema <code>PUBLIC</code> <code>Warehouse</code> Compute warehouse <code>COMPUTE_WH</code> <code>Role</code> Snowflake role <code>ANALYST</code> <code>Authenticator</code> Auth method <code>SNOWFLAKE_JWT</code> <code>PRIV_KEY_FILE</code> Private key path <code>C:\\keys\\rsa.p8</code>"},{"location":"bi-tools/excel/#file-locations","title":"File Locations","text":"Platform ODBC Config Driver Windows ODBC Administrator Auto-detected macOS <code>~/.odbc.ini</code>, <code>~/.odbcinst.ini</code> <code>/opt/snowflake/snowflakeodbc/</code>"},{"location":"bi-tools/excel/#next-steps","title":"Next Steps","text":"<ul> <li>Tableau Guide \u2014 Advanced visualization</li> <li>Power BI Guide \u2014 Interactive dashboards</li> <li>Key-Pair Setup \u2014 Secure authentication</li> </ul>"},{"location":"bi-tools/power-bi/","title":"Power BI","text":""},{"location":"bi-tools/power-bi/#power-bi-connection-guide","title":"Power BI Connection Guide","text":""},{"location":"bi-tools/power-bi/#connect-power-bi-to-snowflake","title":"Connect Power BI to Snowflake","text":"<p>Complete guide for Power BI Desktop and Service on Windows (with Mac alternatives)</p>"},{"location":"bi-tools/power-bi/#overview","title":"Overview","text":"<p>Power BI integrates with Snowflake through both DirectQuery and Import modes. While Power BI Desktop is Windows-only, the Power BI Service works on any platform.</p>"},{"location":"bi-tools/power-bi/#platform-support","title":"Platform Support","text":"Component Windows macOS Web Power BI Desktop  Full  Not Available  N/A Power BI Service  Full  Full  Full Power BI Mobile N/A"},{"location":"bi-tools/power-bi/#authentication-support","title":"Authentication Support","text":"Method Power BI Desktop Power BI Service Username/Password OAuth (Azure AD) SSO Key-Pair <p>No Key-Pair Support</p> <p>Power BI does not support key-pair authentication for Snowflake. Use OAuth/SSO for secure connections.</p>"},{"location":"bi-tools/power-bi/#quick-start-windows","title":"Quick Start (Windows)","text":""},{"location":"bi-tools/power-bi/#step-1-open-power-bi-and-get-data","title":"Step 1: Open Power BI and Get Data","text":"<ol> <li>Launch Power BI Desktop</li> <li>Click Get Data \u2192 Database \u2192 Snowflake</li> <li>Click Connect</li> </ol>"},{"location":"bi-tools/power-bi/#step-2-enter-connection-details","title":"Step 2: Enter Connection Details","text":"Field Description Example Server Snowflake account URL <code>xy12345.us-east-1.snowflakecomputing.com</code> Warehouse Compute warehouse <code>ANALYTICS_WH</code> Database Optional default <code>ANALYTICS</code>"},{"location":"bi-tools/power-bi/#step-3-choose-data-connectivity-mode","title":"Step 3: Choose Data Connectivity Mode","text":"Mode Description Best For Import Loads data into Power BI Small-medium datasets, fast dashboards DirectQuery Queries Snowflake live Large datasets, real-time data"},{"location":"bi-tools/power-bi/#step-4-authenticate","title":"Step 4: Authenticate","text":"<p>Select authentication method and enter credentials.</p>"},{"location":"bi-tools/power-bi/#authentication-methods","title":"Authentication Methods","text":"Username &amp; PasswordOAuth / SSOAAD with DirectQuery"},{"location":"bi-tools/power-bi/#database-authentication","title":"Database Authentication","text":"<p>Basic Security</p> <p>Configuration:</p> <ol> <li>In authentication dialog, select Database</li> <li>Enter:<ul> <li>User name: Your Snowflake username</li> <li>Password: Your Snowflake password</li> </ul> </li> <li>Click Connect</li> </ol> <p></p> <p></p> <p>Scheduled Refresh with MFA</p> <p>If MFA is enabled, scheduled refreshes in Power BI Service will fail. Use OAuth/SSO instead.</p>"},{"location":"bi-tools/power-bi/#pros","title":"Pros","text":"<ul> <li>Simple and fast setup</li> <li>Works immediately</li> <li>No additional configuration </li></ul>"},{"location":"bi-tools/power-bi/#cons","title":"Cons","text":"<ul> <li>Less secure</li> <li>Credentials stored in report</li> <li>MFA may cause issues</li> <li>Not recommended for production </li></ul>"},{"location":"bi-tools/power-bi/#microsoft-entra-id-azure-ad-sso","title":"Microsoft Entra ID (Azure AD) SSO","text":"<p>High Security</p> <p>Use your organizational Azure AD credentials for seamless SSO.</p> <p>Prerequisites:</p> <ol> <li>Snowflake configured for Azure AD OAuth</li> <li>Power BI and Snowflake in same Azure tenant (or federated)</li> <li>Matching user identities</li> </ol> <p>Power BI Desktop Configuration:</p> <ol> <li>Select Microsoft Account authentication</li> <li>Click Sign in</li> <li>Complete Azure AD authentication</li> <li>MFA handled automatically if configured</li> </ol> <p>Power BI Service SSO:</p> <p>When using DirectQuery, users authenticate with their own credentials:</p> <ol> <li>Publish report to Power BI Service</li> <li>Configure data source settings:<ul> <li>Gateway \u2192 Not required for SSO</li> <li>Authentication method \u2192 OAuth2</li> <li>SSO \u2192 Enable \"Use SSO via Azure AD\"</li> </ul> </li> </ol> <p></p> <p></p>"},{"location":"bi-tools/power-bi/#pros_1","title":"Pros","text":"<ul> <li>Enterprise-grade security</li> <li>Native MFA support</li> <li>Single sign-on experience</li> <li>Centralized user management</li> <li>Audit trail via Azure AD </li></ul>"},{"location":"bi-tools/power-bi/#cons_1","title":"Cons","text":"<ul> <li>Requires Azure AD configuration</li> <li>Snowflake OAuth setup needed</li> <li>Token expiration handling</li> <li>More complex initial setup </li></ul>"},{"location":"bi-tools/power-bi/#aad-sso-for-directquery","title":"AAD SSO for DirectQuery","text":"<p>Enable row-level security with user identity passthrough.</p> <p>Snowflake Configuration:</p> <pre><code>-- Create Azure AD OAuth integration\nCREATE OR REPLACE SECURITY INTEGRATION powerbi_aad_oauth\n    TYPE = EXTERNAL_OAUTH\n    ENABLED = TRUE\n    EXTERNAL_OAUTH_TYPE = AZURE\n    EXTERNAL_OAUTH_ISSUER = 'https://sts.windows.net/&lt;tenant-id&gt;/'\n    EXTERNAL_OAUTH_JWS_KEYS_URL = 'https://login.microsoftonline.com/&lt;tenant-id&gt;/discovery/v2.0/keys'\n    EXTERNAL_OAUTH_AUDIENCE_LIST = ('https://&lt;account&gt;.snowflakecomputing.com')\n    EXTERNAL_OAUTH_TOKEN_USER_MAPPING_CLAIM = 'upn'\n    EXTERNAL_OAUTH_SNOWFLAKE_USER_MAPPING_ATTRIBUTE = 'login_name';\n</code></pre> <p>Power BI Service Configuration:</p> <ol> <li>Go to Power BI Admin Portal</li> <li>Navigate to Tenant settings</li> <li>Enable Snowflake SSO option</li> <li>Configure allowed domains</li> </ol> <p>Benefits:</p> <ul> <li>User identity flows to Snowflake</li> <li>Snowflake RBAC applies per user</li> <li>Audit logs show actual user</li> <li>No shared service account</li> </ul>"},{"location":"bi-tools/power-bi/#macos-users","title":"macOS Users","text":"<p>Power BI Desktop is not available for macOS. Here are your options:</p>"},{"location":"bi-tools/power-bi/#option-1-power-bi-service-web","title":"Option 1: Power BI Service (Web)","text":"<p> Recommended for viewing and basic editing</p> <ol> <li>Go to app.powerbi.com</li> <li>Sign in with organizational account</li> <li>View reports and dashboards</li> <li>Create reports using web authoring</li> </ol> <p>Limitations:</p> <ul> <li>Cannot create complex data models</li> <li>Limited Power Query capabilities</li> <li>No custom visuals development</li> </ul>"},{"location":"bi-tools/power-bi/#option-2-virtual-machine","title":"Option 2: Virtual Machine","text":"<p> Full Power BI Desktop experience</p> Solution Cost Performance Parallels Desktop ~$100/year Excellent VMware Fusion ~$200 one-time Excellent UTM (free) Free Good <p>Setup:</p> <ol> <li>Install VM software</li> <li>Install Windows 11</li> <li>Install Power BI Desktop</li> <li>Connect to Snowflake normally</li> </ol>"},{"location":"bi-tools/power-bi/#option-3-azure-virtual-desktop","title":"Option 3: Azure Virtual Desktop","text":"<p> Cloud-based Windows desktop</p> <ol> <li>Set up Azure Virtual Desktop</li> <li>Access via web browser or app</li> <li>Use Power BI Desktop remotely</li> <li>Data stays in cloud (security benefit)</li> </ol>"},{"location":"bi-tools/power-bi/#option-4-use-tableau-instead","title":"Option 4: Use Tableau Instead","text":"<p>Consider Tableau which has native macOS support with full functionality.</p>"},{"location":"bi-tools/power-bi/#connection-modes","title":"Connection Modes","text":""},{"location":"bi-tools/power-bi/#import-mode","title":"Import Mode","text":"<p>Data is loaded into Power BI's in-memory engine.</p> <pre><code>graph LR\n    A[Snowflake] --&gt;|Scheduled Refresh| B[Power BI Dataset]\n    B --&gt; C[Reports/Dashboards]\n    style B fill:#f9f,stroke:#333</code></pre>"},{"location":"bi-tools/power-bi/#when-to-use-import","title":"When to Use Import","text":"<ul> <li>Dataset &lt; 1 GB</li> <li>Dashboard performance is priority</li> <li>Data doesn't change frequently</li> <li>Complex DAX calculations needed</li> <li>Offline access required</li> </ul>"},{"location":"bi-tools/power-bi/#import-limitations","title":"Import Limitations","text":"<ul> <li>Data refresh required</li> <li>Memory constraints</li> <li>Dataset size limits</li> <li>Stale data between refreshes</li> <li>Storage costs (Power BI Service)</li> </ul>"},{"location":"bi-tools/power-bi/#directquery-mode","title":"DirectQuery Mode","text":"<p>Queries are sent to Snowflake in real-time.</p> <pre><code>graph LR\n    A[Report View] --&gt;|Query| B[Snowflake]\n    B --&gt;|Results| A\n    style B fill:#9cf,stroke:#333</code></pre>"},{"location":"bi-tools/power-bi/#when-to-use-directquery","title":"When to Use DirectQuery","text":"<ul> <li>Large datasets (&gt; 1 GB)</li> <li>Real-time data required</li> <li>Security rules in Snowflake</li> <li>SSO with user identity</li> <li>Compliance requirements</li> </ul>"},{"location":"bi-tools/power-bi/#directquery-limitations","title":"DirectQuery Limitations","text":"<ul> <li>Slower than Import</li> <li>DAX limitations</li> <li>Requires running warehouse</li> <li>No offline access</li> <li>Query costs to Snowflake</li> </ul>"},{"location":"bi-tools/power-bi/#hybrid-composite-models","title":"Hybrid (Composite Models)","text":"<p>Combine Import and DirectQuery for optimal performance.</p> <pre><code>-- Example: Import dimensions, DirectQuery facts\n-- Dimension tables: Imported (fast lookups)\n-- Fact tables: DirectQuery (real-time, large)\n</code></pre>"},{"location":"bi-tools/power-bi/#performance-optimization","title":"Performance Optimization","text":""},{"location":"bi-tools/power-bi/#snowflake-best-practices","title":"Snowflake Best Practices","text":"<pre><code>-- Create dedicated warehouse for Power BI\nCREATE WAREHOUSE powerbi_wh\n    WAREHOUSE_SIZE = 'MEDIUM'\n    AUTO_SUSPEND = 120\n    AUTO_RESUME = TRUE\n    INITIALLY_SUSPENDED = TRUE;\n\n-- Enable result caching\nALTER SESSION SET USE_CACHED_RESULT = TRUE;\n\n-- Create aggregation tables for common queries\nCREATE TABLE monthly_sales_agg AS\nSELECT \n    DATE_TRUNC('month', sale_date) as month,\n    SUM(amount) as total_sales,\n    COUNT(*) as transaction_count\nFROM sales\nGROUP BY 1;\n</code></pre>"},{"location":"bi-tools/power-bi/#power-bi-best-practices","title":"Power BI Best Practices","text":"<ol> <li>Limit Columns and Rows</li> <li>Select only needed columns</li> <li> <p>Apply filters at source</p> </li> <li> <p>Use Query Folding</p> </li> <li>Ensure transformations fold to Snowflake</li> <li> <p>Check query folding indicators</p> </li> <li> <p>Optimize DAX</p> </li> <li>Prefer measures over calculated columns</li> <li> <p>Use variables for complex calculations</p> </li> <li> <p>DirectQuery Optimization</p> </li> <li>Limit visuals per page</li> <li>Use aggregations</li> <li>Enable query reduction</li> </ol>"},{"location":"bi-tools/power-bi/#gateway-configuration","title":"Gateway Configuration","text":"<p>For on-premises data gateway (if needed):</p> <p>Gateway Not Required for Direct Cloud Connection</p> <p>Power BI Service can connect directly to Snowflake without a gateway for most scenarios.</p>"},{"location":"bi-tools/power-bi/#when-gateway-is-needed","title":"When Gateway is Needed","text":"<ul> <li>Private Link connections</li> <li>Network restrictions</li> <li>Hybrid data sources</li> <li>Custom proxy requirements</li> </ul>"},{"location":"bi-tools/power-bi/#gateway-setup","title":"Gateway Setup","text":"<ol> <li>Install On-premises data gateway</li> <li>Configure Snowflake connection</li> <li>Add to Power BI Service workspace</li> <li>Map data source to gateway</li> </ol>"},{"location":"bi-tools/power-bi/#row-level-security","title":"Row-Level Security","text":""},{"location":"bi-tools/power-bi/#snowflake-rls-with-power-bi-sso","title":"Snowflake RLS with Power BI SSO","text":"<p>When using SSO, Snowflake's native security applies:</p> <pre><code>-- Create secure view with RLS\nCREATE SECURE VIEW sales_rls AS\nSELECT *\nFROM sales\nWHERE region = (\n    SELECT region \n    FROM user_regions \n    WHERE user_email = CURRENT_USER()\n);\n\n-- Grant access to view\nGRANT SELECT ON sales_rls TO ROLE powerbi_users;\n</code></pre>"},{"location":"bi-tools/power-bi/#power-bi-rls","title":"Power BI RLS","text":"<p>Alternatively, implement RLS in Power BI:</p> <ol> <li>Create roles in Power BI Desktop</li> <li>Define DAX filters</li> <li>Assign users to roles in Service</li> </ol> <pre><code>// DAX filter for Sales Manager role\n[Region] = USERPRINCIPALNAME()\n</code></pre>"},{"location":"bi-tools/power-bi/#troubleshooting","title":"Troubleshooting","text":"Error: Cannot connect to Snowflake <p>Solutions:</p> <ol> <li>Verify account URL format</li> <li>Check network connectivity</li> <li>Test credentials in Snowflake web UI</li> <li>Ensure warehouse is not suspended</li> <li>Verify firewall allows outbound 443</li> </ol> DirectQuery is slow <p>Solutions:</p> <ol> <li>Scale up Snowflake warehouse</li> <li>Add clustering keys to tables</li> <li>Reduce visuals per page</li> <li>Use aggregation tables</li> <li>Enable query reduction in Power BI</li> </ol> Scheduled refresh fails <p>Solutions:</p> <ol> <li>Check credentials haven't expired</li> <li>For MFA accounts, use OAuth</li> <li>Verify gateway connectivity (if used)</li> <li>Check data source configuration</li> <li>Review error in refresh history</li> </ol> SSO not passing user identity <p>Solutions:</p> <ol> <li>Verify Azure AD OAuth setup in Snowflake</li> <li>Check user mapping configuration</li> <li>Ensure user exists in both systems</li> <li>Use DirectQuery mode (required for SSO)</li> <li>Check tenant settings in Power BI Admin</li> </ol>"},{"location":"bi-tools/power-bi/#quick-reference","title":"Quick Reference","text":""},{"location":"bi-tools/power-bi/#connection-parameters","title":"Connection Parameters","text":"Parameter Value Server <code>account.region.snowflakecomputing.com</code> Warehouse Your Snowflake warehouse Database Your database (optional) Role Your role (via Advanced Options)"},{"location":"bi-tools/power-bi/#required-snowflake-permissions","title":"Required Snowflake Permissions","text":"<pre><code>-- Minimum permissions for Power BI users\nGRANT USAGE ON WAREHOUSE powerbi_wh TO ROLE powerbi_role;\nGRANT USAGE ON DATABASE analytics TO ROLE powerbi_role;\nGRANT USAGE ON SCHEMA analytics.public TO ROLE powerbi_role;\nGRANT SELECT ON ALL TABLES IN SCHEMA analytics.public TO ROLE powerbi_role;\n</code></pre>"},{"location":"bi-tools/power-bi/#next-steps","title":"Next Steps","text":"<ul> <li>Excel Guide \u2014 Connect Excel to Snowflake</li> <li>Security Best Practices \u2014 Security recommendations</li> <li>macOS Guide \u2014 More Mac-specific options</li> </ul>"},{"location":"bi-tools/tableau/","title":"Tableau","text":""},{"location":"bi-tools/tableau/#tableau-connection-guide","title":"Tableau Connection Guide","text":""},{"location":"bi-tools/tableau/#connect-tableau-to-snowflake","title":"Connect Tableau to Snowflake","text":"<p>Complete guide for Tableau Desktop and Server on Windows and macOS</p>"},{"location":"bi-tools/tableau/#overview","title":"Overview","text":"<p>Tableau provides native Snowflake integration with support for all major authentication methods. This guide covers setup for both Tableau Desktop and Tableau Server/Cloud.</p>"},{"location":"bi-tools/tableau/#supported-features","title":"Supported Features","text":"Feature Tableau Desktop Tableau Server Tableau Cloud Live Connection Extracts Username/Password OAuth Key-Pair Auth SAML SSO  Browser"},{"location":"bi-tools/tableau/#quick-start","title":"Quick Start","text":""},{"location":"bi-tools/tableau/#step-1-open-tableau-and-connect","title":"Step 1: Open Tableau and Connect","text":"<ol> <li>Launch Tableau Desktop</li> <li>Under Connect, click More... \u2192 Snowflake</li> </ol>"},{"location":"bi-tools/tableau/#step-2-enter-connection-details","title":"Step 2: Enter Connection Details","text":"Field Description Example Server Your Snowflake account URL <code>xy12345.us-east-1.snowflakecomputing.com</code> Role Snowflake role to use <code>ANALYST_ROLE</code> (optional) Authentication Choose your method See options below"},{"location":"bi-tools/tableau/#step-3-select-data","title":"Step 3: Select Data","text":"<ol> <li>Choose your Warehouse</li> <li>Select Database and Schema</li> <li>Drag tables to the canvas or write Custom SQL</li> </ol>"},{"location":"bi-tools/tableau/#authentication-methods","title":"Authentication Methods","text":"Username &amp; PasswordOAuthKey-Pair"},{"location":"bi-tools/tableau/#basic-authentication","title":"Basic Authentication","text":"<p>Basic Security</p> <p>The simplest method - enter your Snowflake credentials directly.</p> <p>Configuration:</p> Field Value Authentication Username and Password Username Your Snowflake username Password Your Snowflake password <p></p> <p></p> <p>MFA Consideration</p> <p>If your Snowflake account has MFA enabled, you may be prompted each time you connect. Consider OAuth for smoother experience.</p>"},{"location":"bi-tools/tableau/#pros","title":"Pros","text":"<ul> <li>Quick setup</li> <li>No additional configuration</li> <li>Works immediately </li></ul>"},{"location":"bi-tools/tableau/#cons","title":"Cons","text":"<ul> <li>Less secure</li> <li>MFA may interfere</li> <li>Password stored locally </li></ul>"},{"location":"bi-tools/tableau/#oauth-authentication","title":"OAuth Authentication","text":"<p>High Security</p> <p>Authenticate through your identity provider with SSO support.</p> <p>Configuration:</p> Field Value Authentication Sign in using OAuth <p>Process:</p> <ol> <li>Click Sign In</li> <li>Browser opens to your IdP login</li> <li>Complete authentication (including MFA)</li> <li>Return to Tableau - connected!</li> </ol> <p></p> <p></p> <p>Prerequisites:</p> <p>Snowflake must have OAuth configured:</p> <pre><code>-- Check if Tableau OAuth is enabled\nSHOW SECURITY INTEGRATIONS LIKE '%TABLEAU%';\n\n-- Create if needed\nCREATE SECURITY INTEGRATION tableau_oauth\n    TYPE = OAUTH\n    ENABLED = TRUE\n    OAUTH_CLIENT = TABLEAU_DESKTOP\n    OAUTH_REFRESH_TOKEN_VALIDITY = 7776000;\n</code></pre>"},{"location":"bi-tools/tableau/#pros_1","title":"Pros","text":"<ul> <li>Enterprise-grade security</li> <li>MFA support</li> <li>SSO experience</li> <li>Token-based (no password stored) </li></ul>"},{"location":"bi-tools/tableau/#cons_1","title":"Cons","text":"<ul> <li>Requires Snowflake OAuth setup</li> <li>Tokens expire (90 days default)</li> <li>Initial IdP configuration needed </li></ul>"},{"location":"bi-tools/tableau/#key-pair-authentication","title":"Key-Pair Authentication","text":"<p>Very High Security</p> <p>Use RSA cryptographic keys for password-less authentication.</p> <p>Configuration:</p> Field Value Authentication Sign in using Private Key Username Your Snowflake username Private Key File Path to your <code>.p8</code> file Private Key Password Passphrase (if key is encrypted) <p></p> <p></p> <p>File Path Examples:</p> <ul> <li>macOS: <code>/Users/yourname/.snowflake/keys/rsa_key.p8</code></li> <li>Windows: <code>C:\\Users\\yourname\\.snowflake\\keys\\rsa_key.p8</code></li> </ul> <p>See Key-Pair Authentication for key generation.</p>"},{"location":"bi-tools/tableau/#pros_2","title":"Pros","text":"<ul> <li>Strongest security</li> <li>No password management</li> <li>Ideal for automation</li> <li>No MFA interruptions </li></ul>"},{"location":"bi-tools/tableau/#cons_2","title":"Cons","text":"<ul> <li>Complex initial setup</li> <li>Key management required</li> <li>Must protect private key </li></ul>"},{"location":"bi-tools/tableau/#platform-specific-instructions","title":"Platform-Specific Instructions","text":"WindowsmacOS"},{"location":"bi-tools/tableau/#tableau-on-windows","title":"Tableau on Windows","text":"<p>Installation:</p> <ol> <li>Download Tableau Desktop from tableau.com</li> <li>Run installer and complete setup</li> <li>No additional drivers needed for Snowflake</li> </ol> <p>ODBC Driver (Optional):</p> <p>For custom SQL or specific configurations:</p> <ol> <li>Download Snowflake ODBC Driver</li> <li>Install the 64-bit version</li> <li>Configure DSN if needed</li> </ol> <p>File Paths:</p> <ul> <li>Private keys: <code>C:\\Users\\&lt;username&gt;\\.snowflake\\keys\\</code></li> <li>Tableau logs: <code>C:\\Users\\&lt;username&gt;\\Documents\\My Tableau Repository\\Logs\\</code></li> </ul>"},{"location":"bi-tools/tableau/#tableau-on-macos","title":"Tableau on macOS","text":"<p>Installation:</p> <ol> <li>Download Tableau Desktop from tableau.com</li> <li>Open <code>.dmg</code> and drag to Applications</li> <li>Snowflake connector is built-in</li> </ol> <p>ODBC Driver (Optional):</p> <pre><code># Download and install Snowflake ODBC driver\n# From: https://developers.snowflake.com/odbc/\n\n# Verify installation\nls /opt/snowflake/snowflakeodbc/\n</code></pre> <p>File Paths:</p> <ul> <li>Private keys: <code>~/.snowflake/keys/</code></li> <li>Tableau logs: <code>~/Documents/My Tableau Repository/Logs/</code></li> </ul> <p>Permissions:</p> <p>Ensure Tableau can access your private key:</p> <pre><code>chmod 600 ~/.snowflake/keys/rsa_key.p8\n</code></pre>"},{"location":"bi-tools/tableau/#connection-types","title":"Connection Types","text":""},{"location":"bi-tools/tableau/#live-connection-vs-extracts","title":"Live Connection vs Extracts","text":"Aspect Live Connection Extract Data Freshness Real-time Scheduled refresh Performance Depends on Snowflake Fast (local cache) Warehouse Usage Continuous Only during refresh Offline Access No Yes Best For Dashboards, real-time Reports, large datasets"},{"location":"bi-tools/tableau/#choosing-connection-type","title":"Choosing Connection Type","text":"<pre><code>graph TD\n    A[Start] --&gt; B{Real-time data needed?}\n    B --&gt;|Yes| C{Large dataset?}\n    B --&gt;|No| D[Use Extract]\n    C --&gt;|Yes| E{Snowflake optimized?}\n    C --&gt;|No| F[Use Live Connection]\n    E --&gt;|Yes| F\n    E --&gt;|No| D</code></pre>"},{"location":"bi-tools/tableau/#performance-optimization","title":"Performance Optimization","text":""},{"location":"bi-tools/tableau/#snowflake-best-practices","title":"Snowflake Best Practices","text":"<pre><code>-- Use clustering for frequently filtered columns\nALTER TABLE my_table CLUSTER BY (date_column);\n\n-- Create result cache for common queries\nALTER SESSION SET USE_CACHED_RESULT = TRUE;\n\n-- Right-size your warehouse\nCREATE WAREHOUSE tableau_wh\n    WAREHOUSE_SIZE = 'MEDIUM'\n    AUTO_SUSPEND = 300\n    AUTO_RESUME = TRUE;\n</code></pre>"},{"location":"bi-tools/tableau/#tableau-best-practices","title":"Tableau Best Practices","text":"<ol> <li>Use Extracts for Large Datasets</li> <li>Schedule incremental refreshes</li> <li> <p>Filter data before extraction</p> </li> <li> <p>Optimize Custom SQL</p> </li> <li>Avoid <code>SELECT *</code></li> <li>Push calculations to Snowflake</li> <li> <p>Use table calculations sparingly</p> </li> <li> <p>Initial SQL </p><pre><code>-- Set warehouse for better performance\nALTER SESSION SET WAREHOUSE = 'TABLEAU_WH';\nUSE ROLE ANALYST_ROLE;\n</code></pre><p></p> </li> </ol>"},{"location":"bi-tools/tableau/#tableau-server-configuration","title":"Tableau Server Configuration","text":""},{"location":"bi-tools/tableau/#publishing-with-saved-credentials","title":"Publishing with Saved Credentials","text":"<ol> <li>Publish workbook to Tableau Server</li> <li>Under Data Sources, select your Snowflake connection</li> <li>Choose authentication type:</li> <li>Embedded password \u2014 Stored on server</li> <li>Prompt user \u2014 Each user authenticates</li> <li>Viewer credentials \u2014 Users' own credentials</li> </ol>"},{"location":"bi-tools/tableau/#oauth-on-tableau-server","title":"OAuth on Tableau Server","text":"<p>Configure Tableau Server for Snowflake OAuth:</p> <ol> <li> <p>TSM Configuration: </p><pre><code>tsm configuration set -k wgserver.oauth.snowflake.enabled -v true\ntsm pending-changes apply\n</code></pre><p></p> </li> <li> <p>Saved Credential Policies:</p> </li> <li>Enable saved credentials for Snowflake</li> <li>Configure OAuth client ID/secret</li> </ol>"},{"location":"bi-tools/tableau/#key-pair-on-tableau-server","title":"Key-Pair on Tableau Server","text":"<p>For service account connections:</p> <ol> <li>Store private key on server</li> <li>Configure via TSM or UI</li> <li>Use for scheduled refreshes</li> </ol>"},{"location":"bi-tools/tableau/#troubleshooting","title":"Troubleshooting","text":"Error: Connection failed - cannot connect to Snowflake <p>Solutions:</p> <ol> <li>Verify account URL format: <code>account.region.snowflakecomputing.com</code></li> <li>Check network connectivity (firewall, VPN)</li> <li>Test login via Snowflake web UI</li> <li>Verify warehouse is running</li> </ol> Error: OAuth token expired <p>Solutions:</p> <ol> <li>Clear saved credentials in Tableau</li> <li>Re-authenticate via OAuth</li> <li>Check token validity in Snowflake: <pre><code>DESC SECURITY INTEGRATION tableau_oauth;\n</code></pre></li> </ol> Performance is slow <p>Solutions:</p> <ol> <li>Use Extracts for large datasets</li> <li>Scale up Snowflake warehouse</li> <li>Add clustering keys to tables</li> <li>Optimize your Tableau calculations</li> <li>Use Initial SQL to set context</li> </ol> Private key authentication fails <p>Solutions:</p> <ol> <li>Verify key file path is correct</li> <li>Check file permissions</li> <li>Confirm public key is registered in Snowflake</li> <li>Ensure key is in PKCS#8 format</li> </ol>"},{"location":"bi-tools/tableau/#quick-reference","title":"Quick Reference","text":""},{"location":"bi-tools/tableau/#connection-string-format","title":"Connection String Format","text":"<pre><code>Server: account.region.snowflakecomputing.com\nWarehouse: YOUR_WAREHOUSE\nDatabase: YOUR_DATABASE\nSchema: YOUR_SCHEMA\nRole: YOUR_ROLE (optional)\n</code></pre>"},{"location":"bi-tools/tableau/#minimum-required-permissions","title":"Minimum Required Permissions","text":"<pre><code>-- Grant access for Tableau user\nGRANT USAGE ON WAREHOUSE tableau_wh TO ROLE tableau_role;\nGRANT USAGE ON DATABASE analytics TO ROLE tableau_role;\nGRANT USAGE ON SCHEMA analytics.public TO ROLE tableau_role;\nGRANT SELECT ON ALL TABLES IN SCHEMA analytics.public TO ROLE tableau_role;\n</code></pre>"},{"location":"bi-tools/tableau/#next-steps","title":"Next Steps","text":"<ul> <li>Power BI Guide \u2014 Connect Power BI to Snowflake</li> <li>Best Practices \u2014 Security recommendations</li> <li>Troubleshooting \u2014 Common issues</li> </ul>"},{"location":"getting-started/overview/","title":"Overview","text":""},{"location":"getting-started/overview/#overview","title":"Overview","text":"<p>This guide helps you connect Business Intelligence (BI) tools to Snowflake, covering authentication methods, platform-specific considerations, and best practices.</p>"},{"location":"getting-started/overview/#what-is-snowflake","title":"What is Snowflake?","text":"<p>Snowflake is a cloud-based data warehouse that provides:</p> <ul> <li>Separation of storage and compute \u2014 Scale independently</li> <li>Multi-cloud support \u2014 AWS, Azure, and Google Cloud</li> <li>Near-zero maintenance \u2014 No infrastructure to manage</li> <li>Secure data sharing \u2014 Share data without copying</li> </ul>"},{"location":"getting-started/overview/#supported-bi-tools","title":"Supported BI Tools","text":"<p>This documentation covers three major BI tools:</p>"},{"location":"getting-started/overview/#tableau","title":"Tableau","text":"<p>Tableau is a powerful data visualization platform known for:</p> <ul> <li>Intuitive drag-and-drop interface</li> <li>Rich visualization library</li> <li>Strong community and resources</li> <li>Native Snowflake connector</li> </ul>"},{"location":"getting-started/overview/#power-bi","title":"Power BI","text":"<p>Microsoft Power BI offers:</p> <ul> <li>Deep Microsoft ecosystem integration</li> <li>Cost-effective licensing</li> <li>Natural language queries (Q&amp;A)</li> <li>DirectQuery and Import modes</li> </ul>"},{"location":"getting-started/overview/#excel","title":"Excel","text":"<p>Microsoft Excel provides:</p> <ul> <li>Familiar spreadsheet interface</li> <li>Pivot tables and charts</li> <li>Power Query for data transformation</li> <li>ODBC connectivity to Snowflake</li> </ul>"},{"location":"getting-started/overview/#authentication-methods-overview","title":"Authentication Methods Overview","text":"<p>Snowflake supports multiple authentication methods, each with different security levels and use cases:</p> <pre><code>graph LR\n    A[User/Application] --&gt; B{Authentication Method}\n    B --&gt; C[Username &amp; Password]\n    B --&gt; D[OAuth / SSO]\n    B --&gt; E[Key-Pair]\n    C --&gt; F[Snowflake]\n    D --&gt; F\n    E --&gt; F</code></pre>"},{"location":"getting-started/overview/#method-comparison","title":"Method Comparison","text":"Aspect Username/Password OAuth/SSO Key-Pair Security Basic High Very High MFA Support Limited Yes N/A Setup Complexity Low Medium High Best For Testing Enterprise Automation Token Expiry N/A Configurable N/A"},{"location":"getting-started/overview/#connection-architecture","title":"Connection Architecture","text":"<p>Understanding how BI tools connect to Snowflake helps troubleshoot issues:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   BI Tool       \u2502\u2500\u2500\u2500\u2500\u25b6\u2502   Driver        \u2502\u2500\u2500\u2500\u2500\u25b6\u2502   Snowflake     \u2502\n\u2502 (Tableau, etc.) \u2502     \u2502 (ODBC/JDBC)     \u2502     \u2502   Cloud         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                       \u2502                       \u2502\n         \u2502                       \u2502                       \u2502\n    Authentication          Encryption              Data Storage\n    Credentials             TLS 1.2+              Secure Compute\n</code></pre>"},{"location":"getting-started/overview/#next-steps","title":"Next Steps","text":"<ol> <li>Check Prerequisites \u2014 Prerequisites</li> <li>Choose Authentication \u2014 Authentication Overview</li> <li>Connect Your Tool \u2014 Select your BI tool guide</li> </ol> <p>Connection String Basics</p> <p>Regardless of the method chosen, you'll need:</p> <ul> <li>Account Identifier \u2014 Your Snowflake account (e.g., <code>xy12345.us-east-1</code>)</li> <li>Username \u2014 Your Snowflake user</li> <li>Warehouse \u2014 Compute resource for queries</li> <li>Database \u2014 Default database (optional)</li> <li>Schema \u2014 Default schema (optional)</li> </ul>"},{"location":"getting-started/prerequisites/","title":"Prerequisites","text":""},{"location":"getting-started/prerequisites/#prerequisites","title":"Prerequisites","text":"<p>Before connecting your BI tool to Snowflake, ensure you have the following requirements in place.</p>"},{"location":"getting-started/prerequisites/#snowflake-requirements","title":"Snowflake Requirements","text":""},{"location":"getting-started/prerequisites/#account-access","title":"Account Access","text":"<ul> <li> Active Snowflake account</li> <li> Valid username and credentials</li> <li> Appropriate role with data access permissions</li> <li> Network access to Snowflake (firewall/VPN configured)</li> </ul>"},{"location":"getting-started/prerequisites/#connection-information","title":"Connection Information","text":"<p>You'll need these details from your Snowflake administrator:</p> Parameter Example Description Account Identifier <code>xy12345.us-east-1</code> Your unique Snowflake account Username <code>john.doe@company.com</code> Your login username Warehouse <code>COMPUTE_WH</code> Virtual warehouse for queries Database <code>ANALYTICS</code> Default database (optional) Schema <code>PUBLIC</code> Default schema (optional) Role <code>ANALYST_ROLE</code> Your assigned role (optional) <p>Finding Your Account Identifier</p> <p>Your account identifier is visible in your Snowflake URL: </p><pre><code>https://xy12345.us-east-1.snowflakecomputing.com\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       Account Identifier\n</code></pre><p></p>"},{"location":"getting-started/prerequisites/#driver-requirements","title":"Driver Requirements","text":""},{"location":"getting-started/prerequisites/#snowflake-odbc-driver","title":"Snowflake ODBC Driver","text":"<p>Required for Excel and some Tableau configurations.</p> WindowsmacOS <ol> <li>Download from Snowflake ODBC Driver Downloads</li> <li>Run the installer (<code>snowflake_odbc_win64.msi</code>)</li> <li>Follow the installation wizard</li> <li>Configure DSN via ODBC Data Source Administrator</li> </ol> <ol> <li>Download the <code>.pkg</code> installer from Snowflake</li> <li>Open the package and follow prompts</li> <li>The driver installs to <code>/opt/snowflake/snowflakeodbc/</code></li> <li>Configure via <code>odbc.ini</code> and <code>odbcinst.ini</code></li> </ol> <pre><code># Check installation\nls /opt/snowflake/snowflakeodbc/\n</code></pre>"},{"location":"getting-started/prerequisites/#snowflake-jdbc-driver","title":"Snowflake JDBC Driver","text":"<p>Required for some advanced configurations.</p> <p>Download from: Snowflake JDBC Driver</p>"},{"location":"getting-started/prerequisites/#bi-tool-requirements","title":"BI Tool Requirements","text":""},{"location":"getting-started/prerequisites/#tableau","title":"Tableau","text":"Platform Version Native Connector Windows 2019.1+  Built-in macOS 2019.1+  Built-in <p>Tableau Versions</p> <p>Tableau has a built-in Snowflake connector. No additional driver installation needed for basic connectivity.</p>"},{"location":"getting-started/prerequisites/#power-bi","title":"Power BI","text":"Component Platform Requirement Power BI Desktop Windows Windows 10/11 Power BI Desktop macOS  Not available Power BI Service Any Web browser <p>macOS Users</p> <p>Power BI Desktop is Windows-only. Mac users can:</p> <ul> <li>Use Power BI Service (web) for viewing and basic editing</li> <li>Run Windows in a virtual machine (Parallels, VMware)</li> <li>Use Azure Virtual Desktop</li> </ul>"},{"location":"getting-started/prerequisites/#excel","title":"Excel","text":"Platform Version ODBC Support Windows Excel 2016+  Full macOS Excel 2019+  Limited"},{"location":"getting-started/prerequisites/#network-requirements","title":"Network Requirements","text":""},{"location":"getting-started/prerequisites/#firewall-configuration","title":"Firewall Configuration","text":"<p>Ensure outbound access to:</p> Service Port Protocol Snowflake 443 HTTPS Authentication (if OAuth) 443 HTTPS"},{"location":"getting-started/prerequisites/#proxy-settings","title":"Proxy Settings","text":"<p>If using a corporate proxy:</p> <ol> <li>Configure proxy in your OS network settings</li> <li>Some BI tools have their own proxy settings</li> <li>Ensure Snowflake domains are whitelisted</li> </ol>"},{"location":"getting-started/prerequisites/#authentication-specific-prerequisites","title":"Authentication-Specific Prerequisites","text":""},{"location":"getting-started/prerequisites/#for-oauth-sso","title":"For OAuth / SSO","text":"<ul> <li> Identity Provider (IdP) configured (Okta, Azure AD, etc.)</li> <li> Snowflake OAuth security integration created</li> <li> User mapped in IdP to Snowflake user</li> </ul>"},{"location":"getting-started/prerequisites/#for-key-pair-authentication","title":"For Key-Pair Authentication","text":"<ul> <li> OpenSSL installed for key generation</li> <li> Secure storage for private key</li> <li> Public key registered in Snowflake</li> </ul> <pre><code># Check OpenSSL installation\nopenssl version\n</code></pre>"},{"location":"getting-started/prerequisites/#verification-checklist","title":"Verification Checklist","text":"<p>Before proceeding, verify:</p> <ul> <li> Snowflake account accessible via web browser</li> <li> Can login with your credentials</li> <li> Warehouse is available and running</li> <li> Required drivers installed (if needed)</li> <li> Network connectivity to Snowflake confirmed</li> </ul> <p>Ready to Connect</p> <p>Once all prerequisites are met, proceed to Authentication Methods to choose your connection method.</p>"},{"location":"platforms/macos/","title":"macOS","text":""},{"location":"platforms/macos/#macos-platform-guide","title":"macOS Platform Guide","text":""},{"location":"platforms/macos/#snowflake-on-macos","title":"Snowflake on macOS","text":"<p>Complete guide for connecting BI tools to Snowflake from Mac</p>"},{"location":"platforms/macos/#overview","title":"Overview","text":"<p>macOS provides excellent support for Tableau and limited support for Power BI. Understanding the options helps you choose the best approach.</p>"},{"location":"platforms/macos/#tool-support-matrix","title":"Tool Support Matrix","text":"Tool macOS Support Limitations Tableau Desktop  Full None Power BI Desktop  None Windows only Power BI Service  Web Limited authoring Excel  Partial Limited Power Query"},{"location":"platforms/macos/#tableau-on-macos","title":"Tableau on macOS","text":""},{"location":"platforms/macos/#installation","title":"Installation","text":"<ol> <li>Download Tableau Desktop from tableau.com</li> <li>Open the <code>.dmg</code> file</li> <li>Drag Tableau to Applications folder</li> <li>Launch and sign in</li> </ol>"},{"location":"platforms/macos/#snowflake-connection","title":"Snowflake Connection","text":"<p>Tableau on Mac has full parity with Windows:</p> <ul> <li> All authentication methods</li> <li> Live connections and extracts</li> <li> All data source features</li> </ul> <p>Connect:</p> <ol> <li>Open Tableau</li> <li>Connect \u2192 To a Server \u2192 Snowflake</li> <li>Enter connection details</li> <li>Choose authentication method</li> </ol>"},{"location":"platforms/macos/#key-pair-authentication-on-mac","title":"Key-Pair Authentication on Mac","text":"<p>Step 1: Generate Keys</p> <pre><code># Create directory\nmkdir -p ~/.snowflake/keys\ncd ~/.snowflake/keys\n\n# Generate encrypted private key\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 \\\n    -inform PEM -out rsa_key.p8\n\n# Generate public key\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n\n# Set permissions\nchmod 600 rsa_key.p8\nchmod 644 rsa_key.pub\n</code></pre> <p>Step 2: Configure in Tableau</p> Field Value Authentication Sign in using Private Key Private Key File <code>/Users/yourname/.snowflake/keys/rsa_key.p8</code> Password Your passphrase"},{"location":"platforms/macos/#power-bi-alternatives","title":"Power BI Alternatives","text":"<p>Power BI Desktop is not available on macOS. Here are your options:</p>"},{"location":"platforms/macos/#option-1-power-bi-service-web","title":"Option 1: Power BI Service (Web)","text":"<p> Best for: Viewing reports and light editing</p> <p>Access:</p> <ol> <li>Go to app.powerbi.com</li> <li>Sign in with organizational account</li> <li>View and interact with reports</li> </ol> <p>Capabilities:</p> Feature Available View reports Create visuals Edit published reports Create data models Power Query Custom visuals development"},{"location":"platforms/macos/#option-2-virtual-machine","title":"Option 2: Virtual Machine","text":"<p> Best for: Full Power BI functionality</p> <p>Option A: Parallels Desktop ($99/year)</p> <ol> <li>Install Parallels Desktop</li> <li>Download Windows 11 (Parallels can do this automatically)</li> <li>Install Power BI Desktop in Windows</li> <li>Connect to Snowflake normally</li> </ol> <p>Option B: VMware Fusion (~$199 one-time)</p> <ol> <li>Install VMware Fusion</li> <li>Install Windows 11</li> <li>Install Power BI Desktop</li> </ol> <p>Option C: UTM (Free, Apple Silicon native)</p> <ol> <li>Download UTM from mac.getutm.app</li> <li>Download Windows 11 ARM</li> <li>Install and configure Windows</li> <li>Install Power BI Desktop</li> </ol> <p>Performance Tip</p> <p>Allocate at least 8GB RAM and 4 CPU cores to the VM for smooth Power BI performance.</p>"},{"location":"platforms/macos/#option-3-azure-virtual-desktop","title":"Option 3: Azure Virtual Desktop","text":"<p> Best for: Enterprise environments</p> <ol> <li>Set up Azure Virtual Desktop in Azure</li> <li>Connect via web browser or Remote Desktop app</li> <li>Full Windows desktop in cloud</li> <li>Power BI Desktop runs on Azure</li> </ol> <p>Benefits:</p> <ul> <li>No local VM overhead</li> <li>Enterprise managed</li> <li>Data stays in cloud</li> <li>Access from any device</li> </ul>"},{"location":"platforms/macos/#option-4-use-tableau-instead","title":"Option 4: Use Tableau Instead","text":"<p> Best for: Users who can switch tools</p> <p>Tableau Desktop has full macOS support with no compromises. See Tableau Guide.</p>"},{"location":"platforms/macos/#excel-on-macos","title":"Excel on macOS","text":""},{"location":"platforms/macos/#capabilities","title":"Capabilities","text":"Feature Mac Excel Windows Excel ODBC Connection Power Query  Basic  Full PivotTables Automatic Refresh  Limited"},{"location":"platforms/macos/#odbc-setup","title":"ODBC Setup","text":"<p>Step 1: Install Snowflake ODBC Driver</p> <ol> <li>Download from Snowflake ODBC Downloads</li> <li>Open the <code>.pkg</code> installer</li> <li>Follow installation prompts</li> <li>Driver installs to <code>/opt/snowflake/snowflakeodbc/</code></li> </ol> <p>Step 2: Install iODBC Driver Manager</p> <pre><code># Via Homebrew\nbrew install libiodbc\n</code></pre> <p>Step 3: Configure ODBC</p> <p>Create <code>~/.odbc.ini</code>:</p> <pre><code>[Snowflake]\nDescription = Snowflake Analytics\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\nServer = account.snowflakecomputing.com\nDatabase = ANALYTICS\nSchema = PUBLIC\nWarehouse = COMPUTE_WH\nRole = ANALYST_ROLE\n</code></pre> <p>Create <code>~/.odbcinst.ini</code>:</p> <pre><code>[Snowflake]\nDescription = Snowflake ODBC Driver\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\n</code></pre> <p>Step 4: Connect from Excel</p> <ol> <li>Open Excel</li> <li>Data \u2192 Get Data (Power Query) \u2192 From Database \u2192 From ODBC</li> <li>Enter connection string: <code>DSN=Snowflake;UID=user;PWD=pass</code></li> <li>Select data and load</li> </ol>"},{"location":"platforms/macos/#key-pair-with-odbc-on-mac","title":"Key-Pair with ODBC on Mac","text":"<p>Configure <code>~/.odbc.ini</code>:</p> <pre><code>[Snowflake_KeyPair]\nDescription = Snowflake with Key-Pair Auth\nDriver = /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\nServer = account.snowflakecomputing.com\nDatabase = ANALYTICS\nWarehouse = COMPUTE_WH\nUID = your_username\nAUTHENTICATOR = SNOWFLAKE_JWT\nPRIV_KEY_FILE = /Users/yourname/.snowflake/keys/rsa_key.p8\nPRIV_KEY_FILE_PWD = your_passphrase\n</code></pre>"},{"location":"platforms/macos/#network-configuration","title":"Network Configuration","text":""},{"location":"platforms/macos/#firewall","title":"Firewall","text":"<p>macOS firewall typically allows outbound connections. If issues occur:</p> <ol> <li>System Preferences \u2192 Security &amp; Privacy \u2192 Firewall</li> <li>Click Firewall Options</li> <li>Ensure your BI tools are not blocked</li> </ol>"},{"location":"platforms/macos/#proxy","title":"Proxy","text":"<p>Configure in:</p> <ol> <li>System Preferences \u2192 Network \u2192 Advanced \u2192 Proxies</li> <li>Or set environment variables:</li> </ol> <pre><code>export HTTP_PROXY=http://proxy.company.com:8080\nexport HTTPS_PROXY=http://proxy.company.com:8080\n</code></pre>"},{"location":"platforms/macos/#file-locations","title":"File Locations","text":"Item Path ODBC Driver <code>/opt/snowflake/snowflakeodbc/</code> ODBC Config <code>~/.odbc.ini</code>, <code>~/.odbcinst.ini</code> Private Keys <code>~/.snowflake/keys/</code> Tableau Logs <code>~/Documents/My Tableau Repository/Logs/</code> Tableau Preferences <code>~/Library/Preferences/com.tableau.*</code>"},{"location":"platforms/macos/#terminal-commands","title":"Terminal Commands","text":""},{"location":"platforms/macos/#verify-driver-installation","title":"Verify Driver Installation","text":"<pre><code># Check ODBC driver\nls -la /opt/snowflake/snowflakeodbc/lib/\n\n# Test ODBC connection\nisql -v Snowflake your_username your_password\n</code></pre>"},{"location":"platforms/macos/#generate-keys","title":"Generate Keys","text":"<pre><code># Create secure key pair\ncd ~/.snowflake/keys\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 -out rsa_key.p8\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n\n# Get public key for Snowflake (one line, no headers)\ngrep -v \"^-\" rsa_key.pub | tr -d '\\n' &amp;&amp; echo\n</code></pre>"},{"location":"platforms/macos/#check-connectivity","title":"Check Connectivity","text":"<pre><code># Test network connection\nnc -zv account.snowflakecomputing.com 443\n\n# DNS resolution\nnslookup account.snowflakecomputing.com\n\n# Curl test\ncurl -I https://account.snowflakecomputing.com\n</code></pre>"},{"location":"platforms/macos/#troubleshooting","title":"Troubleshooting","text":"ODBC driver not found <p>Solutions:</p> <ol> <li>Verify installation: <pre><code>ls /opt/snowflake/snowflakeodbc/lib/libSnowflake.dylib\n</code></pre></li> <li>Check <code>~/.odbcinst.ini</code> driver path</li> <li>Ensure iODBC is installed: <code>brew install libiodbc</code></li> <li>Reinstall driver package</li> </ol> Tableau can't find private key <p>Solutions:</p> <ol> <li>Use absolute path: <code>/Users/yourname/.snowflake/keys/rsa_key.p8</code></li> <li>Check file permissions: <code>chmod 600 rsa_key.p8</code></li> <li>Verify file format is PKCS#8</li> <li>Test passphrase with openssl</li> </ol> Excel ODBC connection fails <p>Solutions:</p> <ol> <li>Verify DSN configuration in <code>~/.odbc.ini</code></li> <li>Test with <code>isql</code> command</li> <li>Check Excel has permission to access files</li> <li>Try DSN-less connection string</li> </ol> SSL certificate errors <p>Solutions:</p> <ol> <li>Update system certificates: <pre><code>/Applications/Python\\ 3.x/Install\\ Certificates.command\n</code></pre></li> <li>Check system date/time is correct</li> <li>Update Snowflake driver to latest version</li> </ol>"},{"location":"platforms/macos/#comparison-summary","title":"Comparison Summary","text":"Need Recommended Solution Data visualization Tableau (native macOS) Power BI reports Power BI Service (web) Full Power BI features VM (Parallels/VMware) Excel analysis Excel for Mac with ODBC Enterprise Power BI Azure Virtual Desktop"},{"location":"platforms/macos/#next-steps","title":"Next Steps","text":"<ul> <li>Tableau Guide \u2014 Full Tableau setup</li> <li>Power BI Guide \u2014 Power BI options</li> <li>Excel Guide \u2014 Excel ODBC setup</li> </ul>"},{"location":"platforms/windows/","title":"Windows","text":""},{"location":"platforms/windows/#windows-platform-guide","title":"Windows Platform Guide","text":""},{"location":"platforms/windows/#fontawesome-brandswindows-snowflake-on-windows","title":":fontawesome-brands:windows: Snowflake on Windows","text":"<p>Complete guide for connecting BI tools to Snowflake from Windows</p>"},{"location":"platforms/windows/#overview","title":"Overview","text":"<p>Windows provides the most comprehensive support for all BI tools connecting to Snowflake, with full feature parity across Tableau, Power BI, and Excel.</p>"},{"location":"platforms/windows/#tool-support-matrix","title":"Tool Support Matrix","text":"Tool Installation Native Connector All Auth Methods Tableau Desktop Power BI Desktop  (except Key-Pair) Excel  Via ODBC"},{"location":"platforms/windows/#driver-installation","title":"Driver Installation","text":""},{"location":"platforms/windows/#snowflake-odbc-driver","title":"Snowflake ODBC Driver","text":"<p>Required for Excel and optional for advanced Tableau configurations.</p> <p>Step 1: Download Driver</p> <ol> <li>Go to Snowflake ODBC Downloads</li> <li>Download Windows 64-bit installer</li> </ol> <p>Step 2: Install</p> <ol> <li>Run <code>snowflake_odbc_win64.msi</code></li> <li>Accept license agreement</li> <li>Complete installation wizard</li> <li>Restart applications if needed</li> </ol> <p>Step 3: Verify Installation</p> <ol> <li>Press <code>Win + R</code>, type <code>odbcad32.exe</code>, press Enter</li> <li>Go to Drivers tab</li> <li>Confirm SnowflakeDSIIDriver is listed</li> </ol>"},{"location":"platforms/windows/#snowflake-jdbc-driver","title":"Snowflake JDBC Driver","text":"<p>For applications requiring JDBC:</p> <ol> <li>Download from Snowflake JDBC Downloads</li> <li>Place <code>.jar</code> file in application's lib directory</li> <li>Configure classpath as needed</li> </ol>"},{"location":"platforms/windows/#configuring-odbc-data-sources","title":"Configuring ODBC Data Sources","text":""},{"location":"platforms/windows/#user-dsn-vs-system-dsn","title":"User DSN vs System DSN","text":"Type Scope Use Case User DSN Current user only Personal workstation System DSN All users on machine Shared computers, servers"},{"location":"platforms/windows/#create-data-source","title":"Create Data Source","text":"<ol> <li>Open ODBC Data Source Administrator (64-bit)</li> <li> <p>Press <code>Win + R</code> \u2192 <code>odbcad32.exe</code></p> </li> <li> <p>Choose User DSN or System DSN tab</p> </li> <li> <p>Click Add \u2192 Select SnowflakeDSIIDriver \u2192 Finish</p> </li> <li> <p>Configure connection:</p> </li> </ol> Field Example Value Data Source <code>Snowflake_Analytics</code> Server <code>xy12345.us-east-1.snowflakecomputing.com</code> Database <code>ANALYTICS</code> Schema <code>PUBLIC</code> Warehouse <code>COMPUTE_WH</code> Role <code>ANALYST_ROLE</code> <ol> <li> <p>Click Test \u2192 Enter credentials \u2192 Verify connection</p> </li> <li> <p>Click OK to save</p> </li> </ol>"},{"location":"platforms/windows/#authentication-setup","title":"Authentication Setup","text":""},{"location":"platforms/windows/#username-password","title":"Username &amp; Password","text":"<p>No additional configuration needed. Enter credentials when connecting.</p>"},{"location":"platforms/windows/#oauth-sso","title":"OAuth / SSO","text":""},{"location":"platforms/windows/#for-power-bi","title":"For Power BI","text":"<ol> <li>Sign in with Microsoft account in Power BI</li> <li>Select OAuth2 when connecting to Snowflake</li> <li>Complete Azure AD authentication</li> </ol>"},{"location":"platforms/windows/#for-tableau","title":"For Tableau","text":"<ol> <li>Select Sign in using OAuth in connection dialog</li> <li>Browser opens to IdP</li> <li>Complete authentication</li> </ol>"},{"location":"platforms/windows/#key-pair-authentication","title":"Key-Pair Authentication","text":"<p>Step 1: Generate Keys</p> <p>Open PowerShell or Git Bash:</p> <pre><code># Create directory\nNew-Item -ItemType Directory -Force -Path \"$env:USERPROFILE\\.snowflake\\keys\"\nSet-Location \"$env:USERPROFILE\\.snowflake\\keys\"\n\n# Generate encrypted private key\nopenssl genrsa 2048 | openssl pkcs8 -topk8 -v2 aes256 -out rsa_key.p8\n\n# Generate public key\nopenssl rsa -in rsa_key.p8 -pubout -out rsa_key.pub\n</code></pre> <p>OpenSSL Installation</p> <p>If OpenSSL is not available:</p> <ul> <li>Install via Win64 OpenSSL</li> <li>Or use <code>choco install openssl</code></li> <li>Or use Git Bash (includes OpenSSL)</li> </ul> <p>Step 2: Register Public Key</p> <pre><code>-- In Snowflake, assign public key to user\nALTER USER your_username SET RSA_PUBLIC_KEY = 'MIIBIj...';\n</code></pre> <p>Step 3: Configure in Tools</p> TableauExcel ODBC <p>Select Sign in using Private Key:</p> <ul> <li>Private Key File: <code>C:\\Users\\YourName\\.snowflake\\keys\\rsa_key.p8</code></li> <li>Password: Your passphrase</li> </ul> <p>Configure DSN with:</p> <ul> <li>Authenticator: <code>SNOWFLAKE_JWT</code></li> <li>Private Key File: Full path to <code>.p8</code> file</li> <li>Private Key Password: Your passphrase</li> </ul>"},{"location":"platforms/windows/#network-configuration","title":"Network Configuration","text":""},{"location":"platforms/windows/#firewall-rules","title":"Firewall Rules","text":"<p>Ensure outbound access on port 443 (HTTPS) to:</p> <ul> <li><code>*.snowflakecomputing.com</code></li> <li>Your identity provider (for OAuth)</li> </ul> <p>Windows Firewall:</p> <pre><code># Check if outbound 443 is allowed\nGet-NetFirewallRule -Direction Outbound | Where-Object {$_.LocalPort -eq 443}\n</code></pre>"},{"location":"platforms/windows/#proxy-configuration","title":"Proxy Configuration","text":"<p>If using corporate proxy:</p> <p>System-wide:</p> <ol> <li>Settings \u2192 Network &amp; Internet \u2192 Proxy</li> <li>Configure manual or automatic proxy</li> </ol> <p>ODBC Driver:</p> <p>Add to DSN configuration:</p> <pre><code>PROXY=http://proxy.company.com:8080\n</code></pre>"},{"location":"platforms/windows/#file-locations","title":"File Locations","text":"Item Path ODBC Driver <code>C:\\Program Files\\Snowflake ODBC Driver\\</code> Private Keys <code>C:\\Users\\&lt;username&gt;\\.snowflake\\keys\\</code> Tableau Logs <code>C:\\Users\\&lt;username&gt;\\Documents\\My Tableau Repository\\Logs\\</code> Power BI Cache <code>C:\\Users\\&lt;username&gt;\\Microsoft\\Power BI Desktop Store App\\</code>"},{"location":"platforms/windows/#performance-optimization","title":"Performance Optimization","text":""},{"location":"platforms/windows/#windows-specific-tips","title":"Windows-Specific Tips","text":"<ol> <li>Use 64-bit Applications</li> <li>Ensure Excel, Tableau, Power BI are 64-bit</li> <li> <p>Match ODBC driver architecture</p> </li> <li> <p>Memory Allocation</p> </li> <li>Close unnecessary applications</li> <li> <p>Increase virtual memory if needed</p> </li> <li> <p>Network Optimization</p> </li> <li>Use wired connection for large datasets</li> <li>Disable VPN if not required</li> </ol>"},{"location":"platforms/windows/#registry-tweaks-advanced","title":"Registry Tweaks (Advanced)","text":"<p>For large ODBC transfers:</p> <pre><code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\ODBC\\ODBC.INI\\Snowflake]\n\"MaxChunkDownloadThreads\"=dword:00000008\n</code></pre>"},{"location":"platforms/windows/#troubleshooting","title":"Troubleshooting","text":"ODBC driver not showing in list <p>Solutions:</p> <ol> <li>Run 64-bit ODBC Administrator (<code>odbcad32.exe</code> from <code>System32</code>)</li> <li>Reinstall driver with admin privileges</li> <li>Check Windows Event Viewer for errors</li> <li>Reboot after installation</li> </ol> Connection timeout errors <p>Solutions:</p> <ol> <li>Check firewall settings</li> <li>Verify proxy configuration</li> <li>Test network connectivity: <pre><code>Test-NetConnection account.snowflakecomputing.com -Port 443\n</code></pre></li> <li>Try different network (mobile hotspot test)</li> </ol> Private key file not found <p>Solutions:</p> <ol> <li>Use full absolute path</li> <li>Check file permissions</li> <li>Ensure path uses forward slashes or escaped backslashes</li> <li>Verify file exists</li> </ol> Excel/Power BI crashes when loading data <p>Solutions:</p> <ol> <li>Reduce data volume with filters</li> <li>Increase system memory</li> <li>Use DirectQuery instead of Import</li> <li>Update to latest tool version</li> </ol>"},{"location":"platforms/windows/#quick-reference","title":"Quick Reference","text":""},{"location":"platforms/windows/#connection-string-template","title":"Connection String Template","text":"<pre><code>Driver={SnowflakeDSIIDriver};\nServer=account.region.snowflakecomputing.com;\nDatabase=YOUR_DATABASE;\nSchema=YOUR_SCHEMA;\nWarehouse=YOUR_WAREHOUSE;\nRole=YOUR_ROLE;\nUID=your_username;\nPWD=your_password;\n</code></pre>"},{"location":"platforms/windows/#common-paths","title":"Common Paths","text":"<pre><code># ODBC Administrator\n%windir%\\System32\\odbcad32.exe\n\n# User profile\n%USERPROFILE%\n\n# Snowflake keys\n%USERPROFILE%\\.snowflake\\keys\\\n</code></pre>"},{"location":"platforms/windows/#next-steps","title":"Next Steps","text":"<ul> <li>Tableau Guide \u2014 Detailed Tableau setup</li> <li>Power BI Guide \u2014 Power BI configuration</li> <li>Excel Guide \u2014 Excel ODBC setup</li> </ul>"}]}